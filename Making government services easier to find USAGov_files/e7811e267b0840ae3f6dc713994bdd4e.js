(self.webpackChunkCE2=self.webpackChunkCE2||[]).push([[459,150],{1839:function(e,t,s){"use strict";s.r(t),s.d(t,{EventHandlers:function(){return Is},V11Tracker:function(){return Dt},compress:function(){return As},fp:function(){return Os},getCensoredElements:function(){return Ht},timing:function(){return st}});const r="[\\s\\u00a0\\u2028\\u2029]+",i={whitespace:new RegExp(r,"g"),strip:new RegExp(`^${r}|${r}$`,"g"),href:/\bhref="(.*?)"/i,ipHost:/^([\d\.]+|\[[a-f\d:]+\])$/i};function n(e,t){const s=e.replace(i.strip,"");return t?s.replace(i.whitespace," "):s}const o=`cesrk${Math.random().toString().replace(/\D/g,"")}`;function a(e){let t;const s=(e=e||window).document;return e[`${o}_path`]!==e.location.pathname&&(e[o]=function(e){const t=e.defaultView;if(e.documentElement.scrollHeight>t.innerHeight)return t;if(!e.querySelectorAll||"number"!=typeof e.body.scrollHeight)return;const{body:s}=e,r=Array.from(e.querySelectorAll("html, body, body *")).filter((e=>!e.ownerSVGElement)),i=s.getElementsByTagName("*").length;let n,o,a,c;for(n=0,o=Math.min(7e3,r.length);n<o;n++)if(a=r[n],!(a.clientHeight>=a.scrollHeight)&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)&&!(a.getElementsByTagName("*").length/i<.5||a.clientHeight>window.innerHeight||(c=a.getBoundingClientRect(),Math.floor(c.width||c.right-c.left)<.75*t.innerWidth||Math.floor(c.height||c.bottom-c.top)<.75*t.innerHeight)))return a}(s),e[`${o}_path`]=e.location.pathname),t=e[o],t=t||("BackCompat"===s.compatMode?s.body:s.documentElement),{left:t===e?t.scrollX:t.scrollLeft,top:t===e?t.scrollY:t.scrollTop,width:e.innerWidth,height:e.innerHeight}}const c={};c.opera=c.ie=c.chrome=c.safari=c.firefox=!1,c.browser="unknown";const l="undefined"!=typeof window?window:{},h="undefined"!=typeof navigator?navigator:{},u=h.userAgent;function d(e,t){const s=Math.min(t.width,t.height),r=n(e.coords,!0).split(/[^\d\.%]+/).map((e=>function(e,t){let s=parseInt(e,10);return-1!=e.indexOf("%")&&(s*=.01*t),isNaN(s)?null:s}(e,s)));let i,o,a;if(!/circle/i.test(e.shape)){i=[],o=[];for(let e=0,t=r.length;e<t;e++)e%2?o.push(r[e]):i.push(r[e]);const e=Math.min.apply(null,i),t=Math.max.apply(null,i),s=Math.min.apply(null,o);return{left:e,top:s,width:t-e,height:Math.max.apply(null,o)-s}}if(r.length>=3)return[i,o,a]=r,{left:i-a,top:o-a,width:2*a,height:2*a}}function p(e){const t=function(e){const t=new RegExp(`(^|#)${e.parentNode.name}`,"i"),s=e.ownerDocument.getElementsByTagName("IMG");let r,i;for(r=0;i=s[r++];)if(t.test(i.useMap))return i}(e);if(!t)return;const s=f(t),r=d(e,s);return r?{left:s.left+r.left,top:s.top+r.top,width:r.width,height:r.height}:void 0}function f(e,t,s){let r;if(t=t||{},"AREA"==e.nodeName)r=p(e),r&&(t.left=r.left,t.top=r.top,t.width=r.width,t.height=r.height);else if(e.getBoundingClientRect){r=e.getBoundingClientRect();const s=a();t.left=Math.floor(r.left+s.left),t.top=Math.floor(r.top+s.top),c.webkit&&c.webkitVersion<533&&"relative"==e.style.position&&(t.left+=parseInt(e.style.left,10),t.top+=parseInt(e.style.top,10)),t.width=Math.floor(r.width||r.right-r.left),t.height=Math.floor(r.height||r.bottom-r.top)}else{t.width=e.offsetWidth,t.height=e.offsetHeight;let s=e,r=0,i=0;do{r+=s.offsetLeft||0,i+=s.offsetTop||0,s=s.offsetParent}while(s);t.left=Math.floor(r),t.top=Math.floor(i)}if(t.pageX=t.left,t.pageY=t.top,s){const e=f(s);t.left-=e.pageX,t.top-=e.pageY}return t}l.opera&&"function"==typeof l.opera.version?(c.browser="opera",c.opera=!0,c.operaVersion=parseInt(l.opera.version(),10)):/\bMSIE\b/.test(u)?(c.browser="ie",c.ie=!0,c.ieVersion=parseInt(/MSIE (\d+)\.\d+/.exec(h.userAgent)[1],10),c.ieQuirksMode="BackCompat"==document.compatMode):/\b(iPhone|iP[ao]d)\b/.test(u)?(c.browser="iphone",c.iphone=!0,c.webkit=!0):/\bChrome\b/.test(u)?(c.browser="chrome",c.chrome=!0,c.webkit=!0):/AppleWebKit/.test(h.appVersion)?(c.browser="safari",c.safari=!0,c.webkit=!0):/Mozilla/i.test(u)&&!/compatible|webkit/i.test(u)&&(c.browser="firefox",c.firefox=!0),c.webkit&&(c.webkitVersion=parseInt(/AppleWebKit\/(\d+)/.exec(u)[1],10));const g=function(e){if(this.src=e,this.protocol=this.host=this.port=this.path=this.qs=this.hash=this.query=null,e){const t=typeof e;"string"==t?this.initWithString(e):"object"==t&&this.initWithURI(e)}};function m(e){try{return decodeURIComponent(e)}catch(t){return window.unescape(e)}}g.pattern=/^\s*([\S]+?:\/\/)?([^\s\/]+?@)?([^:\/\?\#]+)?(\:\d+)?(\/?[^#\?\s]*)?([\?][^#\s]*)?([#]\S+)?/i,g.prototype={initWithString(e){const t=g.pattern.exec(e),[s,r,i,n,o,a,c,l]=t;r||"/"==e.charAt(0)?(r&&(this.protocol=r.substr(0,r.indexOf(":"))),this.host=n||null,o&&(this.port=Number(o.substr(1))),a?this.path=m(a):this.host&&(this.path="/")):this.path=m((n||"")+(a||"")),c&&(this.qs=function(e,t){if(null==e||/^\s*$/.test(e))return null;const s={};let r=null;const i=e.replace(/\+/g," ").split(t||"&");let n,o;for(n=0,o=i.length;n<o;n++)r=i[n].split("="),r[0]&&(s[m(r[0])]=null==r[1]?null:m(r[1]));return s}(c.substr(1)),this.query=c.substr(1)),l&&(this.hash=m(l.substr(1)))},initWithURI(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])},isAbsolute(){return this.isURL()||this.path&&"/"==this.path.charAt(0)},isURL(){return this.protocol&&this.host},getDomain(){return this.host&&this.host.replace(/^(www|m)\./,"")},getHost(){return this.host+(this.port?`:${this.port}`:"")},getOrigin(){return`${this.protocol}://${this.getHost()}`},getFullUrl(){const e=this.query?`?${this.query}`:"";return`${this.getOrigin()}${this.path}${e}`},join(e){const t=new g(this);let{path:s}=this;return"string"==typeof e&&(e=new g(e)),e.isURL()?new g(e):(e.isAbsolute()?s=e.path:s?(s=s.split("/"),s.pop(),s=e.path?s.concat(e.path.split("/")):s,s=s.join("/")):s=this.isURL()?`/${e.path}`:e.path,t.path=s,t.qs=e.qs,t.hash=e.hash,t)},normalize(){if(!this.path)return;let e;c.ie&&c.ieVersion<9?(e=[],"/"==this.path.charAt(0)&&e.push(""),e=e.concat(this.path.split(/\/+/g)),"/"==this.path.charAt(this.path.length-1)&&e.push("")):e=this.path.split(/\/+/g);let t,s=0;do{if(t=e.length-1,".."==e[s+1])""==e[s]&&0==s?e.splice(s+1,1):(e.splice(s,2),s-=1);else if("."==e[s]){if(0==t)break;e.splice(s,1)}else s++}while(s<=t);this.path=e.join("/")},simplify(e){let t;const s=[];if(t="file"==this.protocol?this:c.ie?e?e.join(this):this:(e=e||new g(window.document.baseURI)).join(this),t.normalize(),t.host&&s.push(t.host.replace(/^(www|m)\./,"")),null!=t.port&&s.push(`:${t.port}`),"/"==t.path||/^\/(default|home|index)\b[^\/]*$/i.test(t.path)?(t.qs||t.hash)&&s.push("/"):s.push(t.path),t.qs){const e=[];for(const s in t.qs)t.qs[s]&&!/(^sess|^sid$|^phpsessid$|^jsessionid$|^__VIEWSTATE$)/i.test(s)&&e.push(`${encodeURIComponent(s)}=${encodeURIComponent(t.qs[s])}`);e.length&&s.push(`?${e.join("&")}`)}return t.hash&&s.push(`#${t.hash}`),s.join("")}};const E={a:3,abbr:4,acronym:5,address:6,applet:7,area:8,b:9,base:10,basefont:11,bdo:12,big:13,blockquote:14,body:15,br:16,button:17,caption:18,center:19,cite:20,code:21,col:22,colgroup:23,dd:24,del:25,dfn:26,dir:27,div:28,dl:29,dt:30,em:31,fieldset:32,font:33,form:34,frame:35,frameset:36,head:37,h1:38,h2:38,h3:38,h4:38,h5:38,h6:38,hr:38,html:39,i:40,iframe:41,img:42,input:43,ins:44,kbd:45,label:46,legend:47,li:48,link:49,map:50,menu:51,meta:52,noframes:53,noscript:54,object:55,embed:55,ol:56,optgroup:57,option:58,p:59,param:60,pre:61,q:62,s:63,samp:64,script:65,select:66,small:67,span:68,strike:69,strong:70,style:71,sub:72,sup:73,table:74,tbody:75,td:76,textarea:77,tfoot:78,th:79,thead:80,title:81,tr:82,tt:83,u:84,ul:85,var:86,article:87,aside:88,audio:89,bdi:90,canvas:91,command:92,details:93,figcaption:94,figure:95,footer:96,header:97,hgroup:98,keygen:99,mark:100,meter:101,nav:102,output:103,progress:104,rp:105,rt:106,ruby:107,section:108,summary:109,time:110,video:111,svg:112,"(custom)":255},v=CE2BH.extends({},E,{main:113});let C=7;const y=/(-|^)(default|open|hover|close|error|active|focus|valid|invalid|dirty|submitted|expand|collapse|hide|show|enable|disable|on|off|yui|ui)/i,k=/^\s*javascript:|^\s*#\s*$/;function T(e,t){if("TEXTAREA"==e.nodeName)return;const s=n(n(function(e){const t=void 0===e.textContent?"innerText":"textContent";let s=e[t].substr(0,16384);function r(e,s){let r,i;for(r=0;i=s[r++];)e=e.replace(i[t],"");return e}return s=r(s,e.getElementsByTagName("SCRIPT")),s=r(s,e.getElementsByTagName("NOSCRIPT")),s}(e),!0).substr(0,t||100));return n(s.replace(/[\ud800-\udbff\udc00-\udfff]+$/,""))}function b(e){if(!c.ie)return e.getAttribute("href");{const t=e.outerHTML.match(i.href);if(t)return n(t[1])}}function w(e){return/^\s*data:/.test(e)?n(e).substr(0,100):new g(e).simplify()}function S(e){const t=function(e){let t=e.className;if(t&&"string"==typeof t)return t=n(t.replace(/(\s|^)-ce-capture\b/g,"")).split(/\s+/),t.sort(),t.join(" ")}(e);if(!t||C<=6)return t;const s=[];for(let e=0,r=t.split(/\s+/);e<r.length;e++){const t=r[e];t&&!y.test(t)&&s.push(t)}return s.join(" ")}function _(e){let t,s;return(t=e.getAttribute("cename"))||(t=e.getAttribute("ceid"))||(t=e.getAttribute("title"))||(t=e.getAttribute("alt"))||(t=e.getAttribute("name"))||"A"==e.nodeName&&(t=T(e))?t:(t=b(e))&&(s=b(e),s&&!k.test(s))?new g(t).simplify():(t=e.getAttribute("src"))?w(t):(t=T(e))||(t=e.getAttribute("id"))||(t=S(e))?t:""}function A(e){if("string"==typeof e)return e;const t=e.toString(16);return t.length%2!=0?`0${t}`:t}const I=32,O={SCRIPT:0,NOSCRIPT:0,STYLE:0,LINK:0},R=CE2BH.extends({},O,{TEMPLATE:0}),N="#document-fragment";function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;return e>=13?R:12===e?O:null}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;return e>=13?v:E}function D(e){return"string"==typeof e?`[${A(function(e){const t=2147483648+function(e){let t=0;if(0==e.length)return t;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return t}(e);return 2048+t%63487}(e))}]`:A(e)}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;const s=e.nodeName.toLowerCase(),r=P(t)[s]||0;return 0===r&&t>=13?s:r}function x(e){const t=[];let s,r,i="";for(let r=0,i=e.length;r<i;r++){const i=e[r];i.type===(s&&s.type)&&i.relation===s.relation?t[t.length-1].count++:t.push({type:i.type,relation:i.relation,count:1}),s=i}for(let e=0,s=t.length;e<s;e++){const s=t[e];if(s.relation&&s.relation!==r&&(i+=1===s.relation?"^":"<",r=s.relation),s.count>2)i+=`${D(s.type)}x${A(s.count)}`;else for(let e=0;e<s.count;e++)i+=D(s.type)}return i}function H(e){let t,{formatVersion:s=11}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;const i=[],n=L(s),o=s>=13;for(;;){if(r.previousElementSibling)t=1,r=r.previousElementSibling;else if(r.parentNode&&r.parentNode!==document.body&&r.parentNode!==document.documentElement)t=2,r=r.parentNode;else{if(!o||r.nodeName!==N||!r.host)break;t=2,r=r.host}if((!n||!(r.nodeName in n))&&((!o||r.nodeName!==N)&&(i.push({type:M(r,s),relation:t}),i.length>=I)))break}return i}function B(e){let{formatVersion:t=11}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[],r=L(t);for(let i=e.nextElementSibling;s.length<I&&i;i=i.nextElementSibling)r&&i.nodeName in r||s.push({type:M(i,t)});return s}function U(e){let{formatVersion:t,descendants:s=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=L(t),i=t>=13,n=i&&e.shadowRoot||e,o=n.querySelectorAll("*");for(let e=0;e<o.length&&s.length<I;e++){const n=o[e];t>=13&&n.ownerSVGElement||(r&&n.nodeName in r||(s.push({type:M(n,t)}),i&&n.shadowRoot&&s.push(...U(n.shadowRoot,{formatVersion:t,descendants:s}))))}return s}const V=function(e){let{formatVersion:t,ignore:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"!=typeof t&&(t=s?12:11),this.type=M(e,t),this.elders=x(H(e,{formatVersion:t})),this.youngerSiblings=x(B(e,{formatVersion:t})),this.descendants=x(U(e,{formatVersion:t})),f(e,this),this.name=_(e)};V.fromObject=function(e){if(e instanceof V)return e;const t=Object.create(V.prototype);for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},V.prototype.toString=function(){return`${V.hex(this.type)};${this.elders};${this.youngerSiblings};${this.descendants}`};var F=s(4991);function $(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];const i=1===s.length&&s[0].includes(".")?s[0].split("."):s;let n=e;for(let e=0;e<i.length;e++){if(n=n[i[e]],!n)break}return n}function q(e){if(!e)return;const t=e.match(/[\d,]+/);return t&&parseFloat(t[0].replace(",","."))}function K(e){const t=e.composedPath&&e.composedPath();let{target:s}=e;return s.shadowRoot&&t&&t.length>0&&([s]=t),s}function G(e,t){let s;if(s="function"==typeof t?e.findIndex(t):e.findIndex((e=>e===t)),s>=0){const t=e.splice(s,1);if(t&&t.length>0)return t[0]}}const j=()=>{if(void 0===CE2.state._isFB){const e=CE2.n.userAgent;for(let t=0,s=["FBSN","FBAN","FBAV"];t<s.length;t++){const r=s[t];if(e.indexOf(r)>-1){CE2.state._isFB=!0;break}}CE2.state._isFB||(CE2.state._isFB=!1)}return CE2.state._isFB},W=function(e,t){const s=e[t];return function(){try{for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return s.apply(e,r)}catch(e){}}},Y=function(e,t){if(e==t)return!0;if("function"==typeof e.contains)return e.contains(t);let s=t;do{s=s.parentNode}while(s&&s!=document.body&&s!=e);return s==e},X=function(e,t){let s,r;if(e&&e.length)for(s=0;r=e[s++];)if(Y(r,t))return r},Q=function(e,t){const s=CE2.fp.scroll(t);return[e.clientX+s.left,e.clientY+s.top]},z=function(e){const t="key_"+ +new Date;try{const s=e.contentWindow;s[t]="temp";const r="temp"===s[t];return r&&delete s[t],r}catch(e){return!1}},J=function(e){return"string"==typeof e.tagUrn&&e.tagUrn.indexOf("vml")>=0};var Z=s(273),ee=s(598),te=s(7106),se=s(2218);class re{constructor(e){CE2BH.defineProperty(this,"ACTIVITY_WINDOW",1e4),CE2BH.defineProperty(this,"INACTIVE_TIME_LIMIT",9e4),this.tracker=e,this.trigger()}update(){this.trigger()}trigger(){const e=+new Date;if(this.lastActive){const t=e-this.lastActive;if(t>this.INACTIVE_TIME_LIMIT){const e=[this.tracker.visitID,t],s=this.tracker.newEvent(Pt.INACTIVE,{attributes:e});this.tracker.send(s,{timestamp:this.lastActive})}}const t=this.lastActive&&e-this.lastActive;t&&t<=this.ACTIVITY_WINDOW||(this.lastActive=e,this.tracker.session&&this.tracker.session.alive())}}class ie{constructor(e){this.tracker=e,this.opaqueElement=null,this.lastClicked=null,this.ignoredElements=CE2.state.ignoredElements.concat([...CE2.d.body.getElementsByClassName("-ce-ignore")]),this.tracker.addEventListener("mousedown",W(this,"onClick")),this.tracker.addEventListener("change",W(this,"onChange"));for(let e=0,t=CE2.d.querySelectorAll("OBJECT, EMBED");e<t.length;e++){const s=t[e],r=CE2.fp.getBox(s);r.width>1&&r.height>1&&(this.tracker.addEventListener("mouseover",W(this,"onOver"),s),this.tracker.addEventListener("mouseout",W(this,"onOut"),s))}for(let e=0,t=CE2.d.querySelectorAll("FRAME, IFRAME");e<t.length;e++){const s=t[e];if(z(s))this.tracker.addEventListener("mousedown",W(this,"onClickFrame"),CE2.ieVersion<9?s.contentWindow.document:s.contentWindow);else{const e=CE2.fp.getBox(s);e.width>1&&e.height>1&&(this.tracker.addEventListener("mouseover",W(this,"onOver"),s),this.tracker.addEventListener("mouseout",W(this,"onOut"),s))}}this.tracker.addEventListener("blur",W(this,"onBlur")),this.tracker.addEventListener(CE2.opera?"unload":"beforeunload",W(this,"onUnload"))}cleanup(){delete this.lastClicked,delete this.lastClickedTime,delete this.ignoredElements}onChange(e){if(e.target&&"SELECT"===e.target.tagName){this.tracker.onActivity();for(let t=0,s=e.target.querySelectorAll("option");t<s.length;t++){const e=s[t];e.selected&&this.click(e,null,null,"l")}}}onClick(e,t){this.tracker.onActivity();const s=this.mouseButton(e);if(t){const t=function(e){return e.source||e.view||e.srcElement.ownerDocument.parentWindow}(e),r=t.frameElement;this.click(...[r].concat(Q(e,t)).concat(s,e))}else{const t=this.tracker.formatVersion>=13?K(e):e.srcElement||e.target;if("OPTION"===t.tagName&&t.parentElement&&"SELECT"===t.parentElement.tagName)return;this.click(t,null,null,s,e)}}onBlur(){const e=this.opaqueElement;e&&e!==this.lastClicked&&(this.click(e),this.opaqueElement=null)}onUnload(){const e=this.opaqueElement;e&&this.isIgnored(e)&&(this.click(e),this.opaqueElement=null)}onClickFrame(e){this.onClick(e,!0)}onOver(e){const t=e.srcElement||e.target;this.isIgnored(t)||(this.opaqueElement=t)}onOut(e){this.isIgnored(e.srcElement||e.target)||(this.opaqueElement=null)}click(e,t,s,r,i){if(this.isTopLevelElement(e)||this.isIgnored(e))return;if(e=this.tracker.getElementToRecord(e),J(e))return;const n=this.tracker.getFingerprint(e),o=this.getClickPosition(t,s,n,i);o.button=r,"l"===r&&(o.clickType=this.getClickType(i)),this.lastClicked=e;const a=[this.tracker.visitID,...this.tracker.getFingerprintAttributes(n),o.x,o.y,o.button,o.pageX,o.pageY,o.clickType],c=this.tracker.newEvent(Pt.CLICK,{attributes:a});this.tracker.send(c)}getClickPosition(e,t,s,r){let i;const n={x:e||0,y:t||0,pageX:0,pageY:0};return r&&(r.srcElement||r.target)?(e||(i=Q(r),n.x=i[0]-s.pageX,n.y=i[1]-s.pageY),n.pageX=r.pageX,n.pageY=r.pageY):e&&t?(n.x=e,n.y=t):r||(n.x=n.pageX=s.width/2,n.y=n.pageY=s.height/2),n}getClickType(e){if(!e)return"";const t=K(e),s=this.isClickableElement(t);let r="";return s||(r+=Lt.NOT_CLICKABLE),this.rageClick(e,t,s)&&(r+=Lt.RAGE,this.tracker.rageClick()),s&&this.authenticationButton(t)&&(r+=Lt.AUTH_BUTTON),r||void 0}rageClick(e,t,s){if(!e)return!1;if(e.timeStamp===this.lastEventTimeStamp)return this.lastRageValue;let r=!1;if(e.detail>2)r=!0;else if(this.lastClickedTime){const i=+new Date-this.lastClickedTime;(s&&this.lastClickedElement===t&&2!==e.detail||!s)&&i<3e3&&(r=!0)}return this.lastClickedTime=+new Date,this.lastEventTimeStamp=e.timeStamp,this.lastRageValue=r,this.lastClickedElement=t,r}authenticationButton(e){if(e.innerText){const t=e.innerText.trim().toLowerCase(),s=["sign in with","register with","authorize","join with"].some((e=>new RegExp(`^${e}`).test(t)));return!!s||["sign in","signin","signup","sign up","register","login","create account","register account","join","join us"].some((t=>t===e.innerText.trim().toLowerCase()))}}isClickableElement(e){const t=["a","a *","button","button *","input","option","select"].join(",");if((0,ee.Ku)(e,t))return!0;const s=getComputedStyle(e);return"pointer"===s.cursor||"text"===s.cursor||"underline"===s.textDecoration}mouseButton(e){let t;return t=CE2.ieVersion&&(CE2.ieVersion<9||CE2.ieQuirksMode)?{1:"l",2:"r",4:"m"}:{0:"l",1:"m",2:"r"},t[e.button]}isTopLevelElement(e){return e===document||e===document.body||e===document.documentElement}isIgnored(e){return X(this.ignoredElements,e)}}class ne{constructor(e){CE2BH.defineProperty(this,"CHECKOUT_STARTED_KEY","ceeccs"),CE2BH.defineProperty(this,"eventTypes",{ADD_TO_CART:1,CHECKOUT_STARTED:2,CHECKOUT_COMPLETED:3}),this.tracker=e,this.tracker.addEventListener("mousedown",(e=>{"l"===this.tracker.eventHandlers.click.mouseButton(e)&&this.onClick&&this.onClick(e)})),setTimeout(W(this,"update"))}setCheckoutStarted(){CE2.cookieStorage.set(this.CHECKOUT_STARTED_KEY,1)}getCheckoutStarted(){return"1"===CE2.cookieStorage.get(this.CHECKOUT_STARTED_KEY)}delCheckoutStarted(){CE2.cookieStorage.del(this.CHECKOUT_STARTED_KEY)}isCheckoutStarted(){return!this.getCheckoutStarted()&&this.CHECKOUT_STARTED_PATH_REGEXP&&this.CHECKOUT_STARTED_PATH_REGEXP.test(CE2.w.location.pathname)}isCheckoutCompleted(){return this.getCheckoutStarted()&&this.CHECKOUT_COMPLETED_PATH_REGEXP&&this.CHECKOUT_COMPLETED_PATH_REGEXP.test(CE2.w.location.pathname)}update(){this.isCheckoutStarted()&&this.checkout(),this.isCheckoutCompleted()&&this.checkoutCompleted()}checkout(){this.setCheckoutStarted(),this.sendCheckoutStartedEvent()}checkoutCompleted(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.delCheckoutStarted(),this.sendCheckoutCompletedEvent(e)}sendCheckoutStartedEvent(){this.sendEvent([this.eventTypes.CHECKOUT_STARTED])}sendCheckoutCompletedEvent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,...e])}addToCart(e){this.delCheckoutStarted(),this.sendEvent([this.eventTypes.ADD_TO_CART,...e])}sendEvent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=[this.tracker.visitID,...e];const t=this.tracker.newEvent(CE2.V11Tracker.eventTypes.ECOMMERCE,{attributes:e});this.tracker.send(t)}}class oe extends ne{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*thank(_|-)?you/i)}onClick(e){const{target:t}=e;if((0,ee.Ku)(t,'.single_add_to_cart_button, [class*="add_to_cart"], [class*="add-to-cart"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(t.innerText||t.value)){let e=[];const t=oe.getProduct();if(t)try{const s=CE2.d.querySelector("input.qty"),r=t.offers&&(t.offers[0]||t.offers);this.currency=r&&r.priceCurrency,e=[t.sku||t["@id"],t.name,s&&s.value,r&&(r.price||r.lowPrice||r.hightPrice),r&&r.priceCurrency]}catch(e){(0,F.f)("error extracting product data",e)}this.addToCart(e)}}static getProduct(){for(let e=0,t=CE2.d.querySelectorAll('script[type="application/ld+json"]');e<t.length;e++){const s=t[e];try{const e=JSON.parse(s.textContent.trim());if(e){if("Product"===e["@type"])return e;if(e["@graph"]instanceof Array){const t=e["@graph"].find((e=>"Product"===e["@type"]));if(t)return t}}}catch(e){(0,F.f)("error extracting product data",e)}}}sendCheckoutCompletedEvent(){const e=CE2.d.querySelector(".order"),t=CE2.d.querySelector(".total");this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,oe.getValue(e&&e.innerText),oe.getValue(t&&t.innerText),this.currency]),CE2.increaseSessionWorth(oe.getValue(t&&t.innerText),this.currency)}static getValue(e){return e&&(e.indexOf(":")>-1?e.split(":")[1].trim():e)}static match(){return Object.keys(CE2.w).find((e=>/^wc_.*_params$/.test(e)))}}class ae extends ne{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*success/i)}onClick(e){const{target:t}=e;if((0,ee.Ku)(t,'#product-addtocart-button, [class*="add_to_cart"], [class*="add-to-cart"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(t.innerText||t.value)){let e=[];const s=ae.getProduct(t);this.currency=s.priceCurrency,s&&(e=[s.id,s.name,s.qty,s.price,s.priceCurrency]),this.addToCart(e)}}static getProduct(e){const t={};try{const s=e.closest(".product-info-main");t.name=CE2.d.querySelector(".page-title")&&CE2.d.querySelector(".page-title").innerText,t.qty=s.querySelector("input.qty")&&s.querySelector("input.qty").value,t.id=s.querySelector('input[name="product"]')&&s.querySelector('input[name="product"]').value,t.price=s.querySelector('[itemprop="price"]')&&(s.querySelector('[itemprop="price"]').getAttribute("content")||s.querySelector('[itemprop="price"]').innerText),t.priceCurrency=s.querySelector('[itemprop="priceCurrency"]')&&s.querySelector('[itemprop="priceCurrency"]').getAttribute("content")}catch(e){(0,F.f)("error extracting product data",e)}return t}sendCheckoutCompletedEvent(){const e=CE2.d.querySelector(".order-number"),t=CE2.d.querySelector(".grand_total .amount");this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,e&&e.innerText,t&&t.innerText,this.currency]),CE2.increaseSessionWorth(t&&t.innerText,this.currency)}static match(){return CE2.w.checkout&&CE2.w.checkout.checkoutUrl&&CE2.w.checkout.websiteId||[...document.scripts].find((e=>e.src&&e.src.indexOf("Magento")>-1))||[...document.querySelectorAll("link")].find((e=>e.href&&e.href.indexOf("Magento")>-1))}}const ce={shopify:class extends ne{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*thank(_|-)?you/i),CE2.w.ShopifyAnalytics.lib.integrations.push({isEssential(){return!0},track:async e=>{await this.onEvent(e)}})}update(){super.update(),this.updateWorth()}async updateWorth(){try{await fetch(CE2.w.Shopify.routes.root+"cart.js").then((e=>e.json())).then((e=>{this.total_price!=e.total_price&&(this.total_price=e.total_price,CE2.increaseSessionWorth(e.total_price,e.currency))}))}catch(e){CE2.debug("error fetching cart value",e)}}async onEvent(e){let t=[];if(e&&"Added Product"===e.event){const{productId:s,name:r,quantity:i,price:n,currency:o}=e.properties||{};t=[s,r,i,n,o],this.addToCart(t),await this.updateWorth()}}sendCheckoutCompletedEvent(){const e=CE2.w.Shopify&&CE2.w.Shopify.checkout||{};this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,e.order_id,e.total_price,e.currency]),this.total_price=e.total_price,CE2.increaseSessionWorth(e.total_price,e.currency)}static match(){return CE2.w.Shopify&&$(CE2.w,"ShopifyAnalytics.lib.integrations")}},woocommerce:oe,magento:ae,wix:class extends ne{constructor(){super(...arguments);const e=CE2.w.location.host,t=this.onEvent.bind(this);CE2.w.CE2_WIX_API_TESTING?CE2.w.wixDevelopersAnalytics.register(e,t):CE2.w.addEventListener("wixDevelopersAnalyticsReady",(()=>{CE2.w.wixDevelopersAnalytics.register(e,t)}))}onEvent(e,t){if("AddToCart"===e){const e=[t.sku,t.name,t.quantity,t.price,t.currency];this.addToCart(e)}"InitiateCheckout"===e&&this.checkout(),"Purchase"===e&&(this.checkoutCompleted([t.orderId,t.revenue,t.currency]),CE2.increaseSessionWorth(t.revenue,t.currency))}static match(){return!!CE2.w.fedops}},squarespace:class extends ne{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout\?cartToken/i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/website\/thank-you-page/i),CE2BH.defineProperty(this,"ADD_TO_CART_BUTTON_NAME_PATTERN",/add to (cart|bag|basket)/i),CE2BH.defineProperty(this,"CHECKOUT_BUTTON_NAME_PATTERN",/checkout/i),CE2BH.defineProperty(this,"getProductData",(()=>{const e=CE2.d.querySelectorAll('script[type="application/ld+json"]'),t=CE2.d.querySelector(".product-variants[data-selected-variant]");if(!t)return(0,F.f)("Variants not found"),null;const s=JSON.parse(t.getAttribute("data-selected-variant"));if(s)for(let t=0;t<e.length;t++){const r=e[t],i=JSON.parse(r.textContent);if(i.offers){const e=CE2.d.querySelector(".product-quantity-input input");return this.currency=$(s,"priceMoney.currency"),[s.sku,i.name,e&&parseInt(e.value,10),q($(s,"priceMoney.value")),this.currency]}}}))}onClick(e){const{target:t}=e;if((e=>(0,ee.Ku)(e,".sqs-add-to-cart-button-inner"))(t)&&(e=>this.ADD_TO_CART_BUTTON_NAME_PATTERN.test(e.innerText||e.value))(t))return this.processAddToCardAction();(e=>this.CHECKOUT_BUTTON_NAME_PATTERN.test(e.innerText||e.value))(t)&&!this.getCheckoutStarted()&&this.checkout()}processAddToCardAction(){try{const e=this.getProductData();e&&this.addToCart(e)}catch(e){(0,F.f)("error extracting product data",e)}}static match(){return CE2.w.SQUARESPACE_ROLLUPS||Object.keys(CE2.w).find((e=>e.includes("__INITIAL_SQUARESPACE")))}}};let le;for(let e=0,t=Object.entries(ce);e<t.length;e++){const[s,r]=t[e];if(r.match()){le=r,(0,F.f)(`Tracker: ${s} site detected`);break}}const he="<unknown>",ue=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,de=/\((\S*)(?::(\d+))(?::(\d+))\)/;const pe=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;const fe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ge=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;const me=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;const Ee=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function ve(e){return e.split("\n").reduce(((e,t)=>{const s=function(e){const t=ue.exec(e);if(!t)return null;const s=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=de.exec(t[2]);return r&&null!=i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:s?null:t[2],methodName:t[1]||he,arguments:s?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||function(e){const t=pe.exec(e);return t?{file:t[2],methodName:t[1]||he,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}(t)||function(e){const t=fe.exec(e);if(!t)return null;const s=t[3]&&t[3].indexOf(" > eval")>-1,r=ge.exec(t[3]);return s&&null!=r&&(t[3]=r[1],t[4]=r[2],t[5]=null),{file:t[3],methodName:t[1]||he,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||function(e){const t=Ee.exec(e);return t?{file:t[2],methodName:t[1]||he,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}(t)||function(e){const t=me.exec(e);return t?{file:t[3],methodName:t[1]||he,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}(t);return s&&e.push(s),e}),[])}class Ce{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cached_assets=new Set;for(let t=0;t<e.length;t++){const s=e[t];this.cached_assets.add(s)}}add(e){this.cached_assets.add((0,se.F)(e))}test(e){return this.cached_assets.has((0,se.F)(e))}items(){const e=[];return this.cached_assets.forEach((t=>e.push(t))),e}}class ye{constructor(e){this.tracker=e,this.setupCache(),this.setupQueue(),"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.app_version&&(this.appVersion=CE_ERROR_TRACKING_CONFIG.app_version),"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.delay_time?this.delayTime=CE_ERROR_TRACKING_CONFIG.delay_time:this.delayTime=1e4,"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.fingerprint?this.fingerprint=CE_ERROR_TRACKING_CONFIG.fingerprint:this.fingerprint=(e,t)=>{const s=[];return s.push(`${t.name}`),t.file&&s.push(`[${t.file}:${t.lineno}:${t.colno}]`),s.join(" ")},this.tracker.addEventListener("error",W(this,"onError")),this.tracker.addEventListener("unhandledrejection",W(this,"onError"))}static removeFingerprintFrom(e){if(!e)return e;if(e.replace(".js","").match(/^([0-9]+([\-|\.|\_])?)+$/))return e;return e.split(/([a-z0-9]+[\-|\.|\_]+)/i).filter((e=>{if(!e)return!1;const t=e.replace(/[^0-9]/g,"").length,s=e.replace(/[\.\-\_]/,"").length,r=t===s;return!!(r&&t<=3)||!(t/s>.15||r)})).join("").replace(/[\-\.\_]js$/,".js")}update(){this.setupQueue(),this.setupCache()}onError(e){try{let t;if(t="Script error."===e.message?this.buildBaseError(e,e.reason,null,"CrossOrigin Error"):e.error?this.buildBaseError(e,e.error):e.promise?this.buildBaseError(e,e.reason,"UnhandledPromise ->"):this.buildBaseError(e),this.cache.test(t.fingerprint))return;this.bufferQueue.push({timestamp:+new Date,errorAttributes:t}),this.cache.add(t.fingerprint)}catch(t){(0,F.f)(t),(0,F.f)(e)}}setupCache(){this.cache=new Ce}setupQueue(){this.bufferQueueTimeout&&clearTimeout(this.bufferQueueTimeout),this.bufferQueue=[],this.processQueue(!0)}processQueue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(;this.bufferQueue.length>0;){const{timestamp:e,errorAttributes:r}=this.bufferQueue[0];if(!t&&+new Date-e<this.delayTime)break;const i=[this.tracker.visitID,r.name,r.message,r.filename,r.lineno,r.colno,r.stack,r.appVersion,r.fingerprint,r.url,r.uuid,r.bounced||s,r.rageClicked],n=this.tracker.newEvent(Pt.ERROR,{timestamp:e,attributes:i});this.tracker.send(n),this.bufferQueue.shift()}if(e){const t=W(this,"processQueue");this.bufferQueueTimeout=setTimeout((()=>{t(e)}),this.delayTime)}}flush(e){this.processQueue(!1,!0,e)}assignAttribute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rageClicked";this.bufferQueue.forEach((t=>{t.errorAttributes[e]=!0}))}buildBaseError(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=CE2BH.extends({},this.parseErrorFileAttributes(e,t),this.parseErrorMessageAttributes(e,t,r));return i.uuid=CE2.uuid_v1(),i.appVersion=this.appVersion,i.url=CE2.w.location.href,i.name=s?`${s} ${i.name}`:i.name,i.fingerprint=e.fingerprint||this.fingerprint(e,i),i.rageClicked=!1,i.bounced=!1,i}parseErrorFileAttributes(e,t){let s={};if(e.filename)s={filename:e.filename,lineno:e.lineno,colno:e.colno,stack:t&&t.stack&&t.stack.toString()};else if(t&&t.stack)try{const e=ve(t.stack);e.length>=1&&(s={filename:e[0].file,lineno:e[0].lineNumber,colno:e[0].column,stack:t.stack.toString()})}catch(e){(0,F.f)(e)}if(s.filename&&0!==s.filename.indexOf("blob:"))if(this.isValidFileUrl(s.filename)){const e=new CE2.URL(s.filename),t=new CE2.URL(CE2.w.location.href);if(e.path!==t.path){let t=e.path;"/"!==e.path&&"/"===e.path[e.path.length-1]&&(t=e.path.slice(0,e.path.length-1)),s.file="/"!==t?t.split("/").pop():t}}else s.file="unknown";return s.file=ye.removeFingerprintFrom(s.file),s}parseErrorMessageAttributes(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={};if(t&&t.message){const e=t.message.replace(/^Uncaught /,"");r.message=t.name?`${t.name}: ${e}`:e}else if(t)r.message=t;else if(e.message)r.message=e.message.replace(/^Uncaught /,"");else if(e.target){const t=["Error on"];e.target.tagName&&t.push(e.target.tagName),e.target.src&&t.push(e.target.src!==CE2.w.location.href?e.target.src:"Empty src attribute"),r.message=t.join(" "),r.name="Unknown Resource Error"}return r.message||(r.message="Unknown Error"),s?r.name=s:r.name||(r.name=function(e){if(e.length<=50)return e.trim();const t=e.trim().split(" ");for(let e=1;e<=t.length;e++){const s=t.slice(0,e).join(" ");if(s.length<=50)continue;const r=e===t.length;return s.trim()+(r?"":" ...")}return e.trim()}(r.message)),r}isValidFileUrl(e){try{if(window.URL)return!!new window.URL(e)}catch(e){(0,F.f)(e)}}}const ke=[[.4,.4],[.5,.4],[.5,.5],[.4,.5],[.3,.5],[.3,.4],[.3,.3],[.4,.3],[.5,.3],[.6,.3],[.6,.4],[.6,.5],[.6,.6],[.5,.6],[.4,.6],[.3,.6],[.2,.6],[.2,.5],[.2,.4],[.2,.3],[.2,.2],[.3,.2],[.4,.2],[.5,.2],[.6,.2],[.7,.2],[.7,.3],[.7,.4],[.7,.5],[.7,.6],[.7,.7],[.6,.7],[.5,.7],[.4,.7],[.3,.7],[.2,.7],[.1,.7],[.1,.6],[.1,.5],[.1,.4],[.1,.3],[.1,.2],[.1,.1],[.2,.1],[.3,.1],[.4,.1],[.5,.1],[.6,.1],[.7,.1],[.8,.1],[.8,.2],[.8,.3],[.8,.4],[.8,.5],[.8,.6],[.8,.7],[.8,.8],[.7,.8],[.6,.8],[.5,.8],[.4,.8],[.3,.8],[.2,.8],[.1,.8],[0,.8],[0,.7],[0,.6],[0,.5],[0,.4],[0,.3],[0,.2],[0,.1],[0,0],[.1,0],[.2,0],[.3,0],[.4,0],[.5,0],[.6,0],[.7,0],[.8,0],[.9,0],[.9,.1],[.9,.2],[.9,.3],[.9,.4],[.9,.5],[.9,.6],[.9,.7],[.9,.8],[.9,.9],[.8,.9],[.7,.9],[.6,.9],[.5,.9],[.4,.9],[.3,.9],[.2,.9],[.1,.9],[0,.9]],Te=`cedk${Math.random().toString().replace(/\D/g,"")}`;function be(e,t,s){if(!e||!e.nodeName)return!1;if(e==CE2.d||e==CE2.d.documentElement||e==CE2.d.body)return!1;if(J(e))return!1;if(s){if(!function(e){let t;if(e[Te])return!1;for(;e&&e!=CE2.d&&e!=CE2.d.documentElement&&e!=CE2.d.body;e=e.parentNode)if(t=CE2.w.getComputedStyle(e),t&&("absolute"==t.position||"fixed"==t.position))return!(e[Te]=!0);return!0}(e))return!1;if(CE2.fp.getBox(e).height>2*t.height)return!1}return!0}function we(e,t,s){const r=CE2.d.elementFromPoint(e+s.left,t+s.top);return r.nodeType===r.TEXT_NODE?r.parentNode:r}function Se(e,t){return CE2.d.elementFromPoint(e,t)}let _e=function(){if(CE2.d.elementFromPoint)return _e=CE2.webkit&&CE2.webkitVersion<533||CE2.opera&&CE2.operaVersion<10?we:Se,_e(...arguments)};class Ae{constructor(){this.strictAnchorSearch=!0,this.lastRecordedScroll=null,this.lastRecordedTime=0,this.lastRecordedY=0,this.idleAt=null,this.idleSince=(new Date).getTime()}shouldRecordScroll(e){const t=e.top,s=e.height,r=`${t}:${s}`,i=(new Date).getTime();if(r==this.lastRecordedScroll)return!1;if(r==this.idleAt){if(i-this.idleSince>=800)return this.lastRecordedScroll=r,this.lastRecordedTime=i,this.lastRecordedY=t,!0}else this.idleAt=r,this.idleSince=i;return null==this.lastRecordedScroll||Math.abs(t-this.lastRecordedY)>s/2&&i-this.lastRecordedTime>=1600?(this.lastRecordedScroll=r,this.lastRecordedTime=i,this.lastRecordedY=t,!0):void 0}findAnchor(e,t){if(!CE2.d.elementFromPoint)return t(e);const s=this;let r=0,i=this.strictAnchorSearch;const{width:n}=e,{height:o}=e;let a,c,l,h;const u=function(){if(a=ke[r++]){if(l=(a[0]+.1*Math.random())*n,h=(a[1]+.1*Math.random())*o,c=_e(l,h,e),be(c,e,i))return t(e,c);setTimeout(u,0)}else r=0,s.strictAnchorSearch=i=!1,setTimeout(u,0)};setTimeout(u,0)}}CE2.EXCESSIVE_SCROLL_TIMEOUT=3e3;class Ie{constructor(e){this.tracker=e,this.timeout=CE2.EXCESSIVE_SCROLL_TIMEOUT,this.isTriggered=!1,this.isScrolledDown=!1,this.scrollTracker=new Ae,this.viewport=null,setTimeout(W(this,"cleanup"),this.timeout),this.trackScrollInterval=setInterval(W(this,"trackScroll"),500),this.foundAnchorBind=W(this,"foundAnchor")}cleanup(){clearInterval(this.trackScrollInterval),this.isTriggered=!1,this.isScrolledDown=!1,this.viewport=null,delete this.scrollTracker,delete this.foundAnchorBind}trackScroll(){const e=CE2.fp.scroll();this.scrollTracker.findAnchor(e,this.foundAnchorBind)}foundAnchor(e,t){if(this.isTriggered)return;const s=this.anchorViewport(e,t),r=s.viewportTop/s.viewportHeight*100;this.isScrolledDown?r<=80&&(this.sendEvent(this.viewport),this.isTriggered=!0):r>90&&(this.viewport=s,this.isScrolledDown=!0)}anchorViewport(e,t){const s=e.top,r=e.height;let i,n,o;return t&&(t=this.tracker.getElementToRecord(t),i=this.tracker.getFingerprint(t),n=e.top-i.pageY,o=e.top+e.height-i.pageY),{viewportTop:s,viewportHeight:r,viewportTopDistance:n,viewportBottomDistance:o}}sendEvent(e){let{viewportTop:t,viewportHeight:s,viewportTopDistance:r,viewportBottomDistance:i}=e;const n=[this.tracker.visitID,t,s,r,i],o=this.tracker.newEvent(Pt.EXCESSIVE_SCROLL,{attributes:n});this.tracker.send(o),this.tracker.addTag("excessive scroll")}}var Oe=s(1278);const Re="ce_submit_forms";function Ne(e,t){const s=e[t];return"string"==typeof s?s:e.getAttribute(t)}class Le{static formAttributes(e){return[Ne(e,"id"),Ne(e,"name"),new CE2.NativeURL(Ne(e,"action"),CE2.w.location.href).toString()]}static validateEmail(e){const t=document.createElement("input");return t.type="email",t.required=!0,t.value=e,"function"==typeof t.checkValidity?t.checkValidity():/\S+@\S+\.\S+/.test(e)}constructor(e){CE2BH.defineProperty(this,"EMAIL_ATTRIBUTE_REGEX",/e([-_])?mail/i),CE2BH.defineProperty(this,"FORM_REGEX",/sign([-_\s])?up|checkout|log([-_\s])?in|sign([-_\s])?in/i),CE2BH.defineProperty(this,"eventTypes",{SUBMIT:1,RESUBMIT:2,ABANDON:3,SIGNUP:4,LOGIN:5,EMAIL:6,SEARCH:7}),this.tracker=e,this.tracker.addEventListener("mousedown",(e=>{"l"===this.tracker.eventHandlers.click.mouseButton(e)&&this.onClick(e)})),CE2.data.auto_identity&&!CE2.IDENTIFIER&&(CE2.w.ShopifyAnalytics&&$(CE2.w,"ShopifyAnalytics.meta.page.customerId")&&(0,Oe.yV)(ShopifyAnalytics.meta.page.customerId),this.tracker.addEventListener("blur",W(this,"onBlur")),this.tracker.addEventListener("submit",W(this,"onBlur"))),this.tracker.addEventListener("submit",W(this,"onSubmit")),this.tracker.addEventListener("input",W(this,"onInput")),this.tracker.addEventListener("beforeunload",W(this,"beforeUnload")),this.editedForms=[],this.submittedForms=JSON.parse(sessionStorage.getItem(Re)||"[]")}onClick(e){const{target:t}=e;if(!t)return;const s=t.closest("form");if(s&&"INPUT"===t.tagName&&("button"===t.type||"submit"===t.type)||"BUTTON"===t.tagName){const e="INPUT"===t.tagName?t.value:t.innerText;(/(log\s*in)|(sign\s*in)/i.test(e)||s&&/(log[\-_]in)|(sign[\-_]in)/i.test(s.action))&&this.sendEvent([this.eventTypes.LOGIN]),(/(sign\s*up)|register/i.test(e)||s&&/(sign[\-_\s]up)|register/i.test(s.action))&&this.sendEvent([this.eventTypes.SIGNUP])}"INPUT"!==t.tagName&&"BUTTON"!==t.tagName||"submit"===t.type&&s&&this.submit(s,t)}onSubmit(e){const t=e.target;t&&(t.ce_submit&&+new Date-t.ce_submit<100||this.submit(t))}onBlur(e){try{const{target:t}=e;if(!t||"function"!=typeof t.closest)return;const s=t.closest("form"),r="INPUT"===t.tagName&&t.value&&Le.validateEmail(t.value);s&&this.isAuthForm(s)&&r&&!CE2.IDENTIFIER&&(0,Oe.yV)(t.value)}catch(e){CE2.debug("form blur trigger failed",e)}}onInput(e){const{target:t}=e;if(!t)return;const s=t.closest("form");s&&!this.editedForms.includes(s)&&this.editedForms.push(s),s&&!s.ce_time_start&&(s.ce_time_start=+new Date),"INPUT"===t.tagName&&("search"===t.type||t.placeholder&&/search/i.test(t.placeholder))&&(!t.ce_search||+new Date-t.ce_search>3e4)&&(t.ce_search=+new Date,this.sendEvent([this.eventTypes.SEARCH])),"INPUT"===t.tagName&&t.value&&Le.validateEmail(t.value)&&(!t.ce_email_sent||+new Date-t.ce_email_sent>6e4)&&(t.ce_email_sent=+new Date,this.sendEvent([this.eventTypes.EMAIL]))}beforeUnload(){this.editedForms.forEach((e=>{this.sendEvent([this.eventTypes.ABANDON,...Le.formAttributes(e)])})),this.editedForms=[],sessionStorage.setItem(Re,CE2.JSON.stringify(this.submittedForms))}submit(e){try{const t=this.editedForms.indexOf(e);-1!==t&&this.editedForms.splice(t,1),e.ce_submit=+new Date;const s=Le.formAttributes(e);let r;-1!==this.submittedForms.indexOf(CE2.JSON.stringify(s))?r=this.eventTypes.RESUBMIT:(this.submittedForms.push(CE2.JSON.stringify(s)),r=this.eventTypes.SUBMIT);const i=[r,...s];e.ce_time_start&&(i.push(+new Date-e.ce_time_start),delete e.ce_time_start),this.sendEvent(i)}catch(e){CE2.debug("form submit event failed",e)}}sendEvent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=[this.tracker.visitID,...e];const t=this.tracker.newEvent(Pt.FORM,{attributes:e});this.tracker.send(t)}isAuthForm(e){const t=Ne(e,"action"),s=Ne(e,"class"),r=Ne(e,"id"),i=Ne(e,"name");return this.isMatch(t)||this.isMatch(s)||this.isMatch(r)||this.isMatch(i)}isMatch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.FORM_REGEX;return e&&e.match(t)}}var Pe=s(8229),De=s(9330);const Me=(e,t,s,r)=>{if(!s||s.type!==t)return!1;if(!e.on_any_page&&!(0,De.pI)(e.on_page,CE2.w.location.href))return!1;let i=e[`selector_for_${{1:"desktop",2:"phone",3:"tablet"}[CE2.clock.getDeviceType()]}`];return!!i&&("function"==typeof CE2.fixTriggerSelector&&(i=CE2.fixTriggerSelector(r,i)),!(!i||!(0,ee.Ku)(s.target,i,!0)))},xe=(e,t)=>!(!e.on_any_page&&!(0,De.pI)(e.on_page,CE2.w.location.href))&&(e.api===t.api&&(!(Array.isArray(e.ids)&&!e.ids.some((e=>e.replace(/^(G|AW)-/,"")===t.id)))&&!(Array.isArray(e.events)&&!e.events.some((e=>"string"==typeof t.type&&e.toLowerCase()===t.type.toLowerCase())))));s(2309);class He{constructor(){this.events=[],this.api=this.apiName(),this.find(),this.listeners=new Set}destroy(){throw new Error(`${this.constructor.name}.destroy() not implemented`)}find(){throw new Error(`${this.constructor.name}.find() not implemented`)}apiName(){throw new Error(`${this.constructor.name}.apiName() not implemented`)}urlMatches(){throw new Error(`${this.constructor.name}.urlMatches(url) not implemented`)}getId(){throw new Error(`${this.constructor.name}.getId() not implemented`)}getEventType(){throw new Error(`${this.constructor.name}.getEventType() not implemented`)}recordEvent(e){const t={api:this.api,properties:e},s=this.getId(e);null!=s&&(t.id=s);const r=this.getEventType(e);"string"==typeof r&&r.trim().length>0&&(t.type=r),this.events.push(t),this.listeners.forEach((e=>{e(t)}))}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}}class Be{constructor(){this.listeners=new Set,this.bufferedEvents=[]}trigger(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];0===this.listeners.size?this.bufferedEvents.push(t):this.listeners.forEach((e=>{e(...t)}))}destroy(){throw new Error(`${this.constructor.name}.destroy() not implemented`)}triggerBuffered(){if(this.bufferedEvents.length>0){for(let e=0,t=this.bufferedEvents;e<t.length;e++){const s=t[e];this.trigger(...s)}this.bufferedEvents=[]}}static getInstance(){return this.instance||(this.instance=new this),this.instance}static destroy(){this.instance&&(this.instance.destroy(),delete this.instance)}static addListener(e){const t=this.getInstance();t.listeners.add(e),t.triggerBuffered()}static removeListener(e){this.instance&&(this.instance.listeners.delete(e),0===this.instance.listeners.size&&this.destroy())}static trigger(){this.instance&&this.instance.trigger(...arguments)}}class Ue extends Be{constructor(){super(),this.observer=new MutationObserver(this.onMutation.bind(this)),"interactive"===document.readyState||"complete"===document.readyState?this.startObserver():document.addEventListener("DOMContentLoaded",this.startObserver.bind(this))}startObserver(){document.querySelectorAll("script[src]").forEach((e=>{this.trigger(e.getAttribute("src"))})),this.observer.observe(document.documentElement,{subtree:!0,childList:!0})}onMutation(e){for(let t=0;t<e.length;t++){const s=e[t];if(s.addedNodes&&0!==s.addedNodes.length)for(let e=0,t=s.addedNodes;e<t.length;e++){const s=t[e];"SCRIPT"===s.nodeName&&this.trigger(s.getAttribute("src"))}}}destroy(){this.observer.disconnect()}}function Ve(e){const t={};return new URL(e).searchParams.forEach(((e,s)=>{t[s]=e})),t}class Fe extends He{constructor(){super(),this.$onScript=this.onScript.bind(this),Ue.addListener(this.$onScript)}destroy(){Ue.removeListener(this.$onScript)}apiName(){return"google"}urlMatches(e){if(!e||"string"!=typeof e)return;return["googleadservices.com/pagead/conversion/","googleads.g.doubleclick.net/pagead/viewthroughconversion/"].some((t=>e.toLowerCase().includes(t.toLowerCase())))}find(){const e=new Set;for(let t=0,s=document.querySelectorAll('script[src*="/gtag/"]');t<s.length;t++){const r=s[t];try{const t=new URL(r.src).searchParams.get("id");t&&/^(AW|G)-/.test(t)&&e.add(t)}catch(e){continue}}e.size>0&&(this.ids=Array.from(e))}getId(e){if(!e.source_url)return;const t=/\/pagead\/(viewthrough)?conversion\/([^/?#]+)/.exec(e.source_url);return t&&t[2]?t[2]:void 0}getEventType(e){const{data:t}=e;if(!t)return;const s=/event=([^;]+)/.exec(t);return s&&s[1]?s[1]:void 0}onScript(e){if(!this.urlMatches(e))return;const t=Ve(e);t.source_url=e,this.getEventType(t)&&this.recordEvent(t)}}const $e=window.Image;function qe(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const r=new $e(...t);return Object.defineProperty(r,"src",{set(e){setTimeout((()=>{Ke.trigger(e)}),0),r.setAttribute("src",e)},get(){return r.getAttribute("src")}}),r}class Ke extends Be{constructor(){super(),window.Image=qe,window.Image.toString=()=>$e.toString()}destroy(){window.Image=$e}}class Ge extends He{constructor(){super(),this.$onImage=this.onImage.bind(this),Ke.addListener(this.$onImage)}destroy(){Ke.removeListener(this.$onImage)}apiName(){return"meta"}urlMatches(e){return e.startsWith("https://www.facebook.com/tr/")}find(){if(window.fbq&&window.fbq.instance&&window.fbq.instance.pixelsByID){const e=Object.keys(window.fbq.instance.pixelsByID);e.length>0&&(this.ids=e)}}getId(e){return e.id}getEventType(e){return e.ev}onImage(e){if(!this.urlMatches(e))return;const t=Ve(e);this.getEventType(t)&&this.recordEvent(t)}}const je=navigator.sendBeacon;function We(e,t){return setTimeout((()=>{try{Ye.trigger(e,t)}catch(e){console.error("sendBeacon error: ",e.stack)}}),0),je.call(navigator,e,t)}class Ye extends Be{constructor(){super(),navigator.sendBeacon=We,navigator.sendBeacon.toString=()=>je.toString()}destroy(){navigator.sendBeacon=je}}class Xe extends He{constructor(){super(),this.$onSendBeacon=this.onSendBeacon.bind(this),Ye.addListener(this.$onSendBeacon)}destroy(){Ye.removeListener(this.$onSendBeacon)}apiName(){return"tiktok"}urlMatches(e){return e.startsWith("https://analytics.tiktok.com/")}find(){const e=document.querySelectorAll('script[src*="analytics.tiktok.com"][data-id]'),t=new Set(Array.from(e).map((e=>e.dataset.id)));t.size>0&&(this.ids=Array.from(t))}getId(e){var t,s;return null==e||null===(t=e.context)||void 0===t||null===(s=t.pixel)||void 0===s?void 0:s.code}getEventType(e){return e.event}onSendBeacon(e,t){if(!this.urlMatches(e))return;const s=JSON.parse(t);this.getEventType(s)&&this.recordEvent(s)}}const Qe={google:Fe,meta:Ge,tiktok:Xe};class ze{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if("all"===e)this.pixels={google:new Fe,meta:new Ge,tiktok:new Xe};else{this.pixels={};for(let t=0;t<e.length;t++){const s=e[t],r=Qe[s];this.pixels[s]=new r}}this.$onLoad=this.findPixels.bind(this),window.addEventListener("load",this.$onLoad),this.$onDomReady=()=>{this.findPixels(),this.initMutationObserver()},document.addEventListener("DOMContentLoaded",this.$onDomReady),this.findPixels(),this.initMutationObserver()}destroy(){document.removeEventListener("DOMContentLoaded",this.$onDomReady),window.removeEventListener("load",this.$onLoad);for(let e=0,t=Object.values(this.pixels);e<t.length;e++){t[e].destroy()}}findPixels(){for(let e=0,t=Object.values(this.pixels);e<t.length;e++){t[e].find()}}initMutationObserver(){this.mutationObserver||document.documentElement&&(this.mutationObserver=new MutationObserver((e=>{for(let t=0;t<e.length;t++){e[t].addedNodes&&this.findPixels()}})),this.mutationObserver.observe(document.documentElement,{subTree:!0,childList:!0}))}addEventListener(e){for(let t=0,s=Object.values(this.pixels);t<s.length;t++){s[t].addListener(e)}}removeEventListener(e){for(let t=0,s=Object.values(this.pixels);t<s.length;t++){s[t].removeListener(e)}}}De.wZ.url_visit=De.wZ.visited_page,De.wZ.click=function(e){let{operand:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{event:s,goalId:r}=t;return Me(e,"mousedown",s,r)},De.wZ.form_submission=function(e){let{operand:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{event:s,goalId:r}=t;return Me(e,"submit",s,r)},De.wZ.pixel_event=function(e){let{operand:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xe(e,t.event)};class Je{constructor(e){this.tracker=e,this.goals=this.tracker.goals;const t=W(this,"onClickOrSubmit");this.tracker.addEventListener("mousedown",t),this.tracker.addEventListener("submit",t);const{onActivity:s}=Je;this.tracker.addEventListener("mousemove",s),this.tracker.addEventListener("scroll",s),this.tracker.addEventListener("keydown",s),this.tracker.addEventListener("pagehide",s),this.pixelObserver=new ze(Je.pixelApisFromGoals(this.goals)),this.pixelObserver.addEventListener(this.onPixelEvent.bind(this))}cleanup(){this.pixelObserver.destroy(),delete this.pixelObserver}onClickOrSubmit(e){Pe.N.alive(),this.goals.forEach((t=>{t.triggers.forEach((s=>{const r=s.filter.conditions.filter((e=>"click"===e.criteria||"form_submission"===e.criteria));0!==r.length&&(0,De.vS)(r,{operand:{event:e,goalId:t.id}})&&this.tracker.goalConversion(t.id,void 0,s.id)}))}))}onUrlVisit(){this.goals.forEach((e=>{e.triggers.forEach((t=>{const s=t.filter.conditions.filter((e=>"url_visit"===e.criteria));0!==s.length&&(0,De.vS)(s)&&this.tracker.goalConversion(e.id,void 0,t.id)}))}))}onCodeConversion(e){this.goals.forEach((t=>{t.triggers.forEach((s=>{const r=s.filter.conditions.filter((e=>"code"===e.criteria));if(0!==r.length)for(let i=0;i<r.length;i++){r[i].values.includes(e)&&this.tracker.goalConversion(t.id,void 0,s.id)}}))}))}onPixelEvent(e){this.goals.forEach((t=>{t.triggers.forEach((s=>{const r=s.filter.conditions.filter((e=>"pixel_event"===e.criteria));0!==r.length&&(0,De.vS)(r,{operand:{event:e}})&&this.tracker.goalConversion(t.id,void 0,s.id)}))}))}static onActivity(){const e=+new Date;Je.lastActive&&e-Je.lastActive<=1e4||(Je.lastActive=e,Pe.N.alive())}static pixelApisFromGoals(e){if(!Array.isArray(e))return[];const t=new Set;return e.forEach((e=>{e.triggers.forEach((e=>{e.filter.conditions.forEach((e=>{"pixel_event"===e.criteria&&e.values.forEach((e=>{e.api&&t.add(e.api)}))}))}))})),Array.from(t)}}var Ze=s(419),et=s(4212);const tt=function(){this.metrics={}};tt.prototype={start(e){this.metrics[e]=+new Date},stop(e){const t=this.metrics[e];if(!t)return void(0,F.f)(`No starting point for "${e}", ignoring.`);const s=+new Date-t;this.cancel(e),this.send(e,s)},cancel(e){delete this.metrics[e]},send(e,t){if(e.length>100)throw new Error("Key is too long (max 100)");if((t=Number(t,10))&&isNaN(t))throw new Error("Value is NaN");if(!CE2.site)return void(0,F.f)(`No site, skipping metric ${e}`);const s=[[(0,et.qR)(0,1),this.getTrackerValue("visitorID"),25,CE2.VERSION,+new Date,CE2.tabId],[this.getTrackerValue("visitID"),e,t||"",CE2.visitorTracker.getIdentification()]];(0,Ze.sendEvents)({userId:CE2.data.uid,siteId:CE2.site.id,snapshotId:this.getTrackerValue("snapshotId"),sessionId:this.getTrackerValue("sessionId"),pageFingerprintMd5:this.getTrackerValue("pageFingerprintMd5")},[s])},getTrackerValue(e){if(CE2.tracker)return CE2.tracker[e]}};const st=new tt;class rt{constructor(e){this.tracker=e,this.tracker.addEventListener(CE2.opera?"unload":"beforeunload",W(this,"onUnload"))}trigger(e,t){if(e.length>100)throw new Error("Key is too long (max 100)");if((t=Number(t,10))&&isNaN(t))throw new Error("Value is NaN");const s=[this.tracker.visitID,e,t||""],r=this.tracker.newEvent(Pt.CUSTOM_PERFORMANCE,{attributes:s});this.tracker.send(r)}onUnload(){if(Object.keys(st.metrics).length)for(let e=0,t=Object.keys(st.metrics);e<t.length;e++){const s=t[e];this.trigger(s)}}}class it{constructor(e){CE2BH.defineProperty(this,"mouseEventTypes",{movement:"m",mouseup:"u",mousedown:"d"}),this.tracker=e,this.mousePos=null,this.mousePositions=[],this.tracker.addEventListener("mousemove",W(this,"mousemove")),this.tracker.addEventListener("mouseup",W(this,"mouseup")),this.tracker.addEventListener("mousedown",W(this,"mousedown")),this.tracker.addSampleCallback(W(this,"sample")),this.tracker.addDiffCallback(W(this,"diff"))}cleanup(){}mousedown(e){if(!e)return;this.tracker.onActivity();const t=this.buildMouseEvent(e,this.mouseEventTypes.mousedown);t&&(this.mousePos=t,this.sample())}mouseup(e){if(!e)return;this.tracker.onActivity();const t=this.buildMouseEvent(e,this.mouseEventTypes.mouseup);t&&(this.mousePos=t,this.sample())}mousemove(e){if(!e)return;this.tracker.onActivity();const t=this.buildMouseEvent(e,this.mouseEventTypes.movement);t&&(this.mousePos=t)}sample(){try{const{mousePos:e}=this;if(e){const t=this.mousePositions[this.mousePositions.length-1];if(t&&((e,t)=>{const s=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(s.length!=r.length)return!1;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i])return!1}return!0})(e.fingerprint,t.fingerprint)){const t=e.movements[0];this.mousePositions[this.mousePositions.length-1].movements.push(t)}else this.mousePositions.push(e);delete this.mousePos}}catch(e){(0,F.f)(e)}}diff(){try{if(this.mousePositions.length>0){const e=[];for(let t=0,s=this.mousePositions;t<s.length;t++){const r=s[t],i=[];for(let e=0,t=r.movements;e<t.length;e++){const s=t[e];let r;"m"===s.type?r=[s.relativeX,s.relativeY,s.timestamp,s.pageX,s.pageY,s.type]:"u"!==s.type&&"d"!==s.type||(r=[s.relativeX,s.relativeY,s.timestamp,s.pageX,s.pageY,s.type,s.button,s.clickType]),i.push(r)}const n=[...this.tracker.getFingerprintAttributes(r.fingerprint),r.movements.length,i];e.push(n)}const t=[this.tracker.visitID,"v1",e],s=this.tracker.newEvent(Pt.MOUSE_MOVEMENT,{attributes:t});this.tracker.send(s),this.mousePositions=[]}}catch(e){(0,F.f)(e)}}buildMouseEvent(e,t){try{if(t===this.mouseEventTypes.mousedown||t===this.mouseEventTypes.mouseup){const{fp:s}=this.lastPosition,r=CE2BH.extends({},this.lastPosition.movementData,{type:t,timestamp:+new Date}),i=this.tracker.eventHandlers.click.mouseButton(e);return r.button=i,"l"===i&&t===this.mouseEventTypes.mousedown&&(r.clickType=this.tracker.eventHandlers.click.getClickType(e)),{fingerprint:s,movements:[r]}}const s=document.elementFromPoint(e.clientX,e.clientY);if(s&&s.getBoundingClientRect){const r=s.getBoundingClientRect(),i=this.tracker.getFingerprint(s),n=e.clientX-(r.x||r.left),o=e.clientY-(r.y||r.top),a=(n/r.width*100).toFixed(4),c=(o/r.height*100).toFixed(4),l=e.pageX||0,h=e.pageY||0,u={relativeX:a,relativeY:c,timestamp:+new Date,pageX:l,pageY:h,type:t};return this.lastPosition={fp:i,movementData:u},{fingerprint:i,movements:[u]}}}catch(e){(0,F.f)(e)}}}function nt(e){try{!e||e.isCensored||CE2.d.hidden||(e.ce||(e.ce={}),e.ce.imgScheduled||(e.ce.imgScheduled=!0,setTimeout((()=>{try{e.ce.imgScheduled=!1,e.toBlob((t=>{const s=new CE2.NativeURL(`/canvas-urls/${e.width}x${e.height}/${t.size}/${t.type&&t.type.replace("/",".")}`,CE2.d.baseURI).toString();e.ce.imgUrl=s,e.ce.blob=t,s!==e.getAttribute("ce-img-taken")&&e.setAttribute("ce-img-taken",s)}),"image/webp")}catch(e){(0,F.f)("error saving the canvas image",e)}}),1e3)))}catch(e){(0,F.f)("error saving the canvas image",e)}}function ot(e){nt(e.canvas)}const at=[{type:CE2.w.CanvasRenderingContext2D,methods:["stroke","fillText","strokeText","fillRect","drawImage","clearRect","translate","transform","fill","clear","rect","strokeRect"]}],ct={track(){this.overridden||(at.forEach((e=>{e.type&&e.methods&&e.methods.forEach((t=>{!function(e,t,s){const r=e.prototype[t];e.prototype[t]=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];r.call(this,...i),s(this,t,...i)}}(e.type,t,ot)}))})),this.overridden=!0),CE2.d.querySelectorAll("canvas").forEach((e=>{nt(e)}))}};class lt{constructor(e){this.tracker=e;try{CE2.hasFeature("v11_canvas_tracking")&&ct.track(),CE2.pageState.startCapture(this.captureOptions())}catch(e){this.tracker.pageStateError(e)}}update(e){if(this.prevState=null,e){CE2.pageState.stopCapture();try{CE2.pageState.startCapture(this.captureOptions())}catch(e){this.tracker.pageStateError(e)}}}cleanup(){CE2.pageState.stopCapture()}trigger(e,t,s,r,i,n){if(!this.prevState||this.prevState.pageUrl!==e||this.prevState.md5!==s){const o=[i||this.tracker.visitID,e,s,t,n],a=this.tracker.newEvent(Pt.PAGE_STATE,{timestamp:r,attributes:o});this.tracker.send(a,{timestamp:r}),this.prevState={pageUrl:e,md5:s}}}captureOptions(){const{tracker:e}=this;return{uid:CE2.data.uid,trackURL:e.trackURL,getVisitId:()=>e.visitID,getUrl:()=>e.url,onPageState:function(){return e.pageState(...arguments)},onPageStateError:function(){return e.pageStateError(...arguments)},censoredElements:e.censoredElements,hideIframes:e.hideIframes,disableMasking:!!CE2.data.disable_recordings_masking,disableEmailMasking:!!CE2.data.disable_recordings_email_masking,stylesheetPerformance:CE2.hasFeature("v11_page_state_performance")}}}const ht=["longtask","first-input","layout-shift","largest-contentful-paint"];class ut{constructor(e){this.tracker=e,this.startTracking=W(this,"startTracking"),CE2.w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&CE2.onDOMReady(this.startTracking)}startTracking(){const e=new PerformanceObserver(W(this,"observe"));for(let t=0;t<ht.length;t++){const s=ht[t];PerformanceObserver.supportedEntryTypes.indexOf(s)>=0&&e.observe({type:s,buffered:!0})}}observe(e){const t=!("visibilityState"in CE2.d)||"visible"===CE2.d.visibilityState;for(let s=0,r=e.getEntries();s<r.length;s++){const e=r[s];let i;const n=[this.tracker.visitID,e.name,e.startTime,e.duration];switch(e.entryType){case"longtask":i=[...n,e.attributes.containerType,e.attributes.containerSrc,e.attributes.containerId,e.attributes.containerName],this.sendEvent(Pt.LONG_TASK,i);break;case"first-input":i=[...n,e.processingStart-e.startTime],this.sendEvent(Pt.FIRST_INPUT_DELAY,i);break;case"layout-shift":i=[...n,1e3*e.value],t&&!e.hadRecentInput&&this.sendEvent(Pt.CUMULATIVE_LAYOUT_SHIFT,i);break;case"largest-contentful-paint":this.sendEvent(Pt.LARGEST_PAINT,n)}}}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=this.tracker.newEvent(e,{attributes:t});this.tracker.send(s)}}const dt="ce_visit_timings";class pt{constructor(e){var t;this.tracker=e,this.visitsTimings=JSON.parse(sessionStorage.getItem(dt)||"{}"),this.isReloadedVisit=null===(t=CE2.w.performance)||void 0===t?void 0:t.getEntriesByType("navigation").map((e=>e.type)).includes("reload"),this.update()}update(){const{pathname:e}=CE2.w.location;if(this.visitPath!==e){this.unload(),this.visitPath=e,this.currentVisit=this.visitsTimings[e];const t=+new Date;if(this.currentVisit){if(!this.isReloadedVisit&&this.currentVisit.endTime-t<2e4){const e=[this.tracker.visitID],t=this.tracker.newEvent(Pt.QUICKBACK,{attributes:e});this.tracker.send(t)}}else this.visitsTimings[e]={},this.currentVisit=this.visitsTimings[e];this.visitsTimings.startTime=t,this.isReloadedVisit=!1}}unload(){this.currentVisit&&(this.currentVisit.endTime=+new Date,sessionStorage.setItem(dt,CE2.JSON.stringify(this.visitsTimings)))}}class ft{constructor(e){this.tracker=e,this.browserSizes=[],this.tracker.addSampleCallback(W(this,"sample")),this.tracker.addDiffCallback(W(this,"diff"))}sample(){try{const e=CE2.w,t=e.innerWidth||e.screen.availWidth,s=e.innerHeight||e.screen.availHeight,{lastBrowserSize:r}=this;if(r&&r[0]===t&&r[1]===s)return;if(j&&r&&r[0]===t&&r[1]!==s)return;this.lastBrowserSize=[t,s,+new Date],this.browserSizes.push(this.lastBrowserSize)}catch(e){(0,F.f)(e)}}diff(){try{if(this.browserSizes.length>0){const e=[this.tracker.visitID,this.browserSizes],t=this.tracker.newEvent(Pt.RESIZE,{attributes:e});this.tracker.send(t),this.browserSizes=[]}}catch(e){(0,F.f)(e)}}}class gt{constructor(e){this.tracker=e,this.scrollTracker=new Ae,this.trackScrollInterval=setInterval(W(this,"trackScroll"),100),this.foundAnchorBind=W(this,"foundAnchor")}cleanup(){clearInterval(this.trackScrollInterval),delete this.scrollTracker,delete this.foundAnchorBind}trackScroll(){const e=CE2.fp.scroll();this.scrollTracker.shouldRecordScroll(e)&&this.scrollTracker.findAnchor(e,this.foundAnchorBind)}foundAnchor(e,t){const s=e.top,r=e.height;let i,n,o;t&&(t=this.tracker.getElementToRecord(t),i=this.tracker.getFingerprint(t),n=e.top-i.pageY,o=e.top+e.height-i.pageY);const a=[this.tracker.visitID,...this.tracker.getFingerprintAttributes(i),s,r,n,o],c=this.tracker.newEvent(Pt.SCROLL,{attributes:a});this.tracker.send(c)}}var mt=s(2786);class Et{constructor(e){this.tracker=e;const t=(0,mt.c)(e.site);isNaN(t)||(this.siteRatio=t)}trigger(){const e=CE2.isBot(!0);if((0,te.U6)("v11_disable_bot_detection")&&e&&(this.tracker.addTag("bot"),CE2.w.serverLog&&this.tracker.visitor&&this.tracker.session))try{CE2.w.serverLog({id:this.tracker.visitor.getId(),value:`sessionid:${this.tracker.session.id}, bot:${e}`})}catch(e){(0,F.f)(`error logging bot reason: ${e.message}`)}Object.keys(CE2.userData).length>0&&this.tracker.sendCustomUserData(),CE2.sessionTags.length>0&&this.tracker.addTag(CE2.sessionTags),CE2.appliedStrategy&&this.siteRatio&&this.sendSessionRatio()}sendSessionRatio(){const e=[this.siteRatio,CE2.appliedStrategy],t=this.tracker.newEvent(Pt.SESSION_RATIO,{attributes:e});this.tracker.send(t)}}class vt{constructor(e){e===document?this.doc=e:(this.doc=e.shadowRoot,this.container=e),this.attachShadowListeners=[],this.patchAttachShadow(),this.onMutation=this._onMutation.bind(this),this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.doc,{subtree:!0,childList:!0}),this.subMonitors=this.findAllContainers().map((e=>new vt(e))),this.listeners=[]}destroy(){this.mutationObserver&&this.mutationObserver.disconnect();for(let e=0,t=this.listeners;e<t.length;e++){const{event:s,callback:r,opt:i}=t[e];this.doc.removeEventListener(s,r,i)}for(let e=0,t=this.subMonitors;e<t.length;e++){t[e].destroy()}}findAllContainers(){return Array.from(this.doc.querySelectorAll("*")).filter((e=>e.shadowRoot))}findMonitor(e){if(this.doc===e||this.doc.contains(e))return this;for(let t=0,s=this.subMonitors;t<s.length;t++){const r=s[t].findMonitor(e);if(r)return r}}attachShadow(e){const t=this.findMonitor(e);t&&t.addSubMonitor(e),this.attachShadowListeners.forEach((t=>{t(e)}))}onAttachShadow(e){this.attachShadowListeners.push(e)}_onMutation(e){for(let t=0;t<e.length;t++){const s=e[t];for(let e=0,t=s.addedNodes;e<t.length;e++){const s=t[e];s.nodeType===Node.ELEMENT_NODE&&s.shadowRoot&&this.addSubMonitor(s)}for(let e=0,t=s.removedNodes;e<t.length;e++){const s=t[e];s.nodeType===Node.ELEMENT_NODE&&s.shadowRoot&&this.removeSubMonitor(s)}}}patchAttachShadow(){if(vt.patchedAttachShadow)return;const e=Element.prototype.attachShadow,t=this;Element.prototype.attachShadow=function(s){const r=e.call(this,s);return s&&"open"===s.mode&&t.attachShadow(this),r},vt.patchedAttachShadow=!0}addSubMonitor(e){const t=new vt(e);this.subMonitors.push(t);for(let e=0,s=this.listeners;e<s.length;e++){const r=s[e];t.addEventListener(r.event,r.callback,r.opt)}}removeSubMonitor(e){const t=G(this.subMonitors,(t=>t.container===e));t&&t.destroy()}addEventListener(e,t,s){this.listeners.push({event:e,callback:t,opt:s}),this.doc.addEventListener(e,t,s);for(let r=0,i=this.subMonitors;r<i.length;r++){i[r].addEventListener(e,t,s)}}removeEventListener(e,t,s){G(this.listeners,(r=>r.event===e&&r.callback===t&&r.opt===s)),this.doc.removeEventListener(e,t,s);for(let r=0,i=this.subMonitors;r<i.length;r++){i[r].removeEventListener(e,t,s)}}getComposedPath(e){const t=[];let s=e;for(;s;){if(t.push(s),s===document){t.push(window);break}if(s.parentNode)s=s.parentNode;else{const e=this.findMonitor(s);s=e&&e.container}}return t}}const Ct=new vt(document),yt=/[:@;%~='"\|\*\/\\\.\[\]\{\}\(\)]/g,kt=/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/;function Tt(e){if(e instanceof DocumentFragment)return":scope";let t=[];const{id:s}=e;if(t.push(e.nodeName.toLowerCase()),s&&"string"==typeof s&&!/^\d/.test(s))t.push(`#${i=s,i.replace(yt,"\\$&").replace(/^\s+|\s+$/g,"")}`);else{const s=(r=e,[].slice.call(r.classList).filter((e=>e.match(kt))).map((e=>`.${e}`)).join(""));s&&t.push(s)}var r,i;if(t=t.join(""),1===e.parentNode.querySelectorAll(t).length)return t;const n=function(e){const{children:t}=e.parentNode;let s=0;for(let r=0;r<t.length;r++){const i=t[r];if(i.tagName===e.tagName&&s++,i===e)return s}}(e);return`${e.nodeName.toLowerCase()}:nth-of-type(${n})`}function bt(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function wt(e){const t=[],{body:s,documentElement:r}=e.ownerDocument;let i;if(e===s||e===r)return e.tagName.toLowerCase();if(e._ce_selector){const t=bt(e).querySelectorAll(e._ce_selector);if(1===t.length&&t[0]===e)return e._ce_selector}for(;e&&(t.unshift(Tt(e)),i=bt(e).querySelectorAll(t.join(" > ")),1!==i.length);e=e.parentNode);return e._ce_selector=t.join(" > ")}class St{constructor(e){this.tracker=e,this.scrolls=[],this.calculateInitialScrolls(),this.tracker.addEventListener("scroll",W(this,"onScroll"),Ct),this.tracker.addDiffCallback(W(this,"diff"))}onScroll(e){this.tracker.onActivity();let t=e.target;t===CE2.d&&(t=CE2.d.scrollingElement);const s=e.composed&&e.composedPath();this.bufferScrollFor(t,s)}bufferScrollFor(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return[wt(e)];const s=[[]];for(let e=0;e<t.length;e++){const r=t[e];s[0].push(r),r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&s.unshift([])}return s.map((e=>wt(e[0])))}(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||Ct.getComposedPath(e)),s=this.scrollKey(t),r=this.scrolls.find((e=>this.scrollKey(e[0])===s)),i=Date.now(),n=this.recordScrollOfElement(e);if(r){const t=r[1],s=t[t.length-1];i-s[2]>this.tracker.SAMPLE_INTERVAL?t.push(n):(s[0]=e.scrollTop,s[1]=e.scrollLeft)}else this.scrolls.push([t,[n]])}recordScrollOfElement(e){return[e.scrollTop,e.scrollLeft,+new Date]}diff(){try{if(this.scrolls.length>0){const e=[this.tracker.visitID,this.scrolls],t=this.tracker.newEvent(Pt.SESSION_SCROLL,{attributes:e});this.tracker.send(t),this.scrolls=[]}}catch(e){(0,F.f)(e)}}scrollKey(e){return e.join("→")}calculateInitialScrolls(){const e=CE2.d.querySelectorAll("html, body, body *");for(let t=0;t<e.length;t++){const s=e[t];(s.scrollTop||s.scrollLeft)&&this.scrolls.push([[wt(s)],[this.recordScrollOfElement(s)]])}this.diff()}}class _t{constructor(e){CE2BH.defineProperty(this,"LIMIT_BETWEEN_TYPE_EVENTS",6e4),this.tracker=e,this.tracker.addEventListener("keydown",W(this,"onKeydown"))}update(){delete this.formEntry}onKeydown(e){this.tracker.onActivity();const t=e.target,s=+new Date;if((0,ee.Ku)(t,"input, [contenteditable]")&&("INPUT"!==t.tagName||!["submit","reset","button"].some((e=>e===t.type&&t.type.toLowerCase())))&&(this.lastTypedElement!==t||this.lastTypedTime-s>this.LIMIT_BETWEEN_TYPE_EVENTS)){const e=(0,ee.Ku)(t,"form *"),r=[this.tracker.visitID,e],i=this.tracker.newEvent(Pt.TYPING,{attributes:r});this.tracker.send(i),e&&(this.formEntry=s)}this.lastTypedElement=t,this.lastTypedTime=t}}class At{constructor(e){this.tracker=e,this.tracker.addEventListener("visibilitychange",W(this,"onVisibilitychange"))}onVisibilitychange(){const e=!document.hidden;if(this.tracker.isDocumentHiddenOnce||(this.tracker.isDocumentHiddenOnce=document.hidden),this.pageVisibility!==e){this.pageVisibility=e;const t=[this.tracker.visitID,e],s=this.tracker.newEvent(Pt.PAGE_VISIBILITY,{attributes:t});this.tracker.send(s),this.tracker.processBuffer()}}}var It=s(15);class Ot{constructor(e){this.tracker=e,this.isReturning=parseInt(CE2.cookieStorage.get(e.COOKIES.isReturning),10)||0,this.tracker.virtual||It.D.set(e.COOKIES.isReturning,"1")}trigger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{snapshotOnly:t}=e,s=CE2.d,r=CE2.w;let i=0;!t&&this.tracker.session&&(i=this.tracker.session.numberVisits(),this.tracker.virtual?i-=1:(i<0&&(i=0),i+=1));const n=[s.referrer,!!this.isReturning,r.screen.width,r.screen.height,r.innerWidth||s.documentElement.clientWidth,r.innerHeight||s.documentElement.clientHeight,(0,ee.Eg)(),this.tracker.url,i,this.tracker.visitor.getNumVisits(),this.tracker.masked,this.tracker.pageFingerprint,this.tracker.visitorIdentification],o=this.tracker.newEvent(Pt.VISIT,{eventID:this.tracker.visitID,attributes:n});this.tracker.session&&this.tracker.session.setNumberVisits(i),t?this.tracker.sendImmediatelly(o,{flow:"s"}):this.tracker.send(o),this.tracker.virtual||!this.tracker.snapshotId&&!this.tracker.session||this.triggerPerformance(e)}triggerPerformance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{snapshotOnly:t}=e,s=CE2.w;this.performanceObserver&&(this.performanceObserver.disconnect(),delete this.performanceObserver),this.performanceEvents={},s.performance&&s.performance.getEntriesByType&&(this.handlePerformanceEntries(s.performance.getEntriesByType("navigation"),t),this.handlePerformanceEntries(s.performance.getEntriesByType("paint"),t),"undefined"!=typeof PerformanceObserver&&(this.performanceObserver=new PerformanceObserver((e=>{this.handlePerformanceEntries(e.getEntries(),t)})),this.performanceObserver.observe({entryTypes:["navigation","paint"]})))}handlePerformanceEntries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tracker.isDocumentHiddenOnce||e.forEach((e=>{"navigation"===e.entryType?(e.domContentLoadedEventStart&&this.sendPerformance(Pt.DOM_CONTENT_LOADED,e.domContentLoadedEventStart,t),e.domInteractive&&this.sendPerformance(Pt.DOM_INTERACTIVE,e.domInteractive,t),e.loadEventStart&&this.sendPerformance(Pt.PAGE_LOAD,e.loadEventStart,t)):"first-contentful-paint"===e.name&&this.sendPerformance(Pt.FIRST_CONTENTFUL_PAINT,e.startTime,t)}))}sendPerformance(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.performanceEvents[e]){const r=[this.tracker.visitID,t],i=this.tracker.newEvent(e,{attributes:r});s?this.tracker.sendImmediatelly(i,{flow:"s"}):this.tracker.send(i),this.performanceEvents[e]=!0}}}CE2.ASSET_COLLECTOR_IGNORE_DOMAINS=["bat.bing.com","www.facebook.com/tr","www.google.","www.google-analytics.","ssl.google-analytics.","www.googletagmanager.","googleads.g","sp.analytics.yahoo.","heapanalytics.com","dev.visualwebsiteoptimizer.","b.6sc.co","hn.inspectlet.","d.adroll.","secure.adnxs.","match.adsrvr.","ads.travelaudience.","www.linkconnector.","px.ads.linkedin.","cdn.bizible.","ih.adscale.","rtb-csync.smartadserver.","x.bidswitch.net/sync","ad.doubleclick."];class Rt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){this.storageKey=e;const t=sessionStorage.getItem(this.storageKey);t&&(this.queue=JSON.parse(t))}this.queue||(this.queue=[])}push(e){const t=[];for(let s=0;s<e.length;s++){const r=e[s];if(!r||!r.url)continue;const i=this.queue.findIndex((e=>e.url===r.url));if(i>=0)this.queue[i]=r;else{t.findIndex((e=>e.url===r.url))<0&&t.push(r)}}t.length&&(this.queue=this.queue.concat(t)),this.updateStorage()}fetch(e){const t=this.queue.splice(0,e);return this.updateStorage(),t}include(e){return this.queue.findIndex((t=>t.url===e))>-1}length(){return this.queue.length}updateStorage(){this.storageKey&&sessionStorage.setItem(this.storageKey,CE2.JSON.stringify(this.queue))}}class Nt{constructor(e){this.tracker=e,this.OBSERVER_CACHE_KEY="ce_asset",this.LOCAL_CACHE_ASSET_MAX_SIZE=5e3,this.LOCAL_ASSET_OBSERVER_CACHE_KEY="ce_local_asset_cache",this.WAITING_QUEUE_KEY="ce_asset_waiting",this.SAMPLE_INTERVAL="undefined"==typeof CE_ASSET_COLLECTOR_INTERVAL?1e4:CE_ASSET_COLLECTOR_INTERVAL,this.URL_REGEX=/url\(["'](.+?)["']\)/,this.BATCH_SIZE=20;const t=new Set;for(let e=0,s=CE2.ASSET_COLLECTOR_IGNORE_DOMAINS;e<s.length;e++){const r=s[e];t.add(r)}for(let e=0,s=CE2.data.asset_collector_ignore||[];e<s.length;e++){const r=s[e];t.add(r)}this.IGNORE_DOMAINS=[],t.forEach((e=>{this.IGNORE_DOMAINS.push(e)}))}setup(){this.uri=new CE2.URL(CE2.w.location.toString()),this.setupObserverCache(),this.setupWorker(),this.schedulePerformanceObserver(),this.scheduleDataAndBlobCollection(1e3),this.collectCanvasImages()}cleanup(){this.performanceObserver&&(this.performanceObserver.disconnect(),delete this.performanceObserver),this.collectAssetsTimeout&&clearTimeout(this.collectAssetsTimeout),this.collectCanvasImagesTimeout&&clearTimeout(this.collectCanvasImagesTimeout),this.worker&&this.worker.terminate()}setupObserverCache(){const e=sessionStorage.getItem(this.LOCAL_ASSET_OBSERVER_CACHE_KEY);this.observerCache=e?new Ce(JSON.parse(e)):new Ce}addObserverCache(e){if(e&&e.length){for(let t=0;t<e.length;t++){const s=e[t];this.observerCache.add(s.cacheKey)}sessionStorage.setItem(this.LOCAL_ASSET_OBSERVER_CACHE_KEY,CE2.JSON.stringify(this.observerCache.items().slice(0,this.LOCAL_CACHE_ASSET_MAX_SIZE)))}}checkObserverCache(e){return this.observerCache.test(e)}collectCanvasImages(){const e=[];let t;for(let s=0,r=CE2.d.querySelectorAll("canvas[ce-img-taken]");s<r.length;s++){const i=r[s],{ce:n}=i;if(n&&n.imgUrl&&n.blob){const{blob:s,imgUrl:r}=n;t=this.prepareAsset(r,{source:"canvas"}),t&&(t.data=s,t.contentType=s.type,t.contentLength=s.size,e.push(t)),delete i.ce.blob}}this.queueForWorker(e),this.collectCanvasImagesTimeout=setTimeout(W(this,"collectCanvasImages"),500)}collectDataAndBlobAssets(){const e=[];let t;if(CE2.d.images)for(let s=0,r=CE2.d.images;s<r.length;s++){const i=r[s],n=i.currentSrc||i.src;this.isBlobOrDataUrl(n)&&(t=this.prepareAsset(n,{source:"images"}),t&&e.push(t))}if(CE2.d.styleSheets)for(let s=0,r=CE2.d.styleSheets;s<r.length;s++){const i=r[s];this.isBlobOrDataUrl(i.href)&&(t=this.prepareAsset(i.href,{source:"stylesheets"}),t&&e.push(t))}this.queueForWorker(e),this.scheduleDataAndBlobCollection(this.SAMPLE_INTERVAL)}schedulePerformanceObserver(){const e=CE2.w;e.performance&&e.performance.getEntriesByType&&(this.handlePerformanceEntries(e.performance.getEntriesByType("resource")),"undefined"!=typeof PerformanceObserver&&(this.performanceObserver=new PerformanceObserver((e=>{this.handlePerformanceEntries(e.getEntries())})),this.performanceObserver.observe({entryTypes:["resource"]})))}scheduleDataAndBlobCollection(e){this.collectAssetsTimeout=setTimeout(W(this,"collectDataAndBlobAssets"),e)}handlePerformanceEntries(e){const t=[];let s;const r=[];let i=!1;for(let n=0;n<e.length;n++){const o=e[n];let a=!1;"img"!==o.initiatorType&&"css"!==o.initiatorType||(a=!0);try{new URL(o.name).pathname.endsWith(".ttf")&&(a=!0)}catch(e){CE2.debug(e)}"link"!==o.initiatorType&&"other"!==o.initiatorType||(i||([document.querySelectorAll("link[rel=stylesheet]"),document.querySelectorAll("link[rel~=preload][as=style]"),document.querySelectorAll("link[rel~=preload][as=font]"),document.querySelectorAll("link[rel~=preload][as=image]")].forEach((e=>e.forEach((e=>r.push(e.href))))),i=!0),r.includes(o.name)&&(a=!0)),a&&(s=this.prepareAsset(o.name,{source:"network"}),s&&t.push(s))}this.queueForWorker(t)}setupWorker(){if(!this.worker){if(this.workerQueue=new Rt,this.workerWaitingQueue=new Rt(this.WAITING_QUEUE_KEY),this.worker=(0,ee.l1)((e=>{const{assets:t,session:s,uid:r,origin:i,trackURL:n,tracking_key:o}=e.data,a={session:s,uid:r,origin:i,assets:[]};for(let e=0;e<t.length;e++){const s=t[e],r={url:s.url};s.data&&(r.contentType=s.contentType,r.contentLength=s.contentLength,r.contentEncoding="gzip",s.contentType&&s.contentType.indexOf("text/css")>-1?r.digest=CE2libs.md5(s.data):r.digest=CE2libs.md5((new FileReaderSync).readAsText(s.data.slice(0,8e3)))),a.assets.push(r)}CE2.http.send(`${n}/assets?tk=${o}`,JSON.stringify(a),{contentType:"application/json",retry:5,callback:e=>{let s;if(200===e.status)s=JSON.parse(e.responseText);else{if(204!==e.status)return void postMessage({status:e.status,assets:t});s=[]}for(let e=0;e<t.length;e++){const r=t[e],i=s.find((e=>r.url===e.url));i?(r.status=i.status,r.s3=i.s3):(r.status=2,r.timestampEnd=+new Date,r.collector="s")}CE2.promisePool(t,2,(e=>new Promise((t=>{if(e.s3){const s=new CE2.FormData;for(let t=0,r=Object.keys(e.s3.fields);t<r.length;t++){const i=r[t];s.append(i,e.s3.fields[i])}let r=e.data;e.data instanceof Blob&&(r=new Uint8Array((new FileReaderSync).readAsArrayBuffer(r))),s.append("file",CE2libs.compress(r)),CE2.http.send(e.s3.url,s,{retry:5,callback:()=>{e.status=2,e.timestampEnd=+new Date,e.collector="c",t(e)}})}else t(e)})))).then((()=>{postMessage({status:"ok",assets:t})})).catch((e=>{CE2.debug(e)}))}})}),!0),!this.worker)return;this.worker.onmessage=e=>{const t=[],s=[],r=[];"ok"!==e.data.status&&CE2.debug(`Assets api unavailable - ${e.data.status}`);for(let i=0,n=e.data.assets;i<n.length;i++){const e=n[i];1===e.status?(void 0===e.waiting?e.waiting=0:e.waiting+=1,t.push(e)):3===e.status||4===e.status&&CE2.data.recordings_2_cors_collect?(e.corsSafe=!0,s.push(e)):r.push(e)}t.length&&this.workerWaitingQueue.push(t),this.addObserverCache(s),this.addObserverCache(r),this.sendEvent(e.data.assets),s.length?this.runWorker(s):this.workerQueue.length()>0?this.runWorker():setTimeout(W(this,"runWorker"),this.SAMPLE_INTERVAL)},this.runWorker()}}queueForWorker(e){e.length&&this.workerQueue.push(e)}runWorker(e){let t=e;t&&t.length||(t=this.workerQueue.fetch(this.BATCH_SIZE),t.length||(t=this.workerWaitingQueue.fetch(this.BATCH_SIZE))),t.length?this.fetchAssetsData(t).then((e=>{this.worker.postMessage({assets:e,session:this.tracker.session.id,uid:CE2.data.uid,origin:`${CE2.w.location.protocol}//${CE2.w.location.host}`,trackURL:this.tracker.trackURL,tracking_key:CE2.data.tracking_key})})).catch((e=>{CE2.debug(e)})):setTimeout(W(this,"runWorker"),this.SAMPLE_INTERVAL)}isBlobUrl(e){return 0===e.indexOf("blob:")}fetchAssetsData(e){return new Promise((t=>{CE2.promisePool(e,2,(e=>new Promise((t=>{if(!e.data&&e.corsSafe){let s=e.originalUrl;if(!e.local){const e=new CE2.URL(s);e.query=e.query&&e.query.length?`${e.query}&`:"",e.query+="ce=true",s=e.getFullUrl()}try{CE2.http.get(s,(s=>{200===s.status&&s.response?(e.data=s.response,e.contentType=s.getResponseHeader("Content-Type"),e.contentLength=s.response.size?s.response.size:parseInt(s.getResponseHeader("Content-Length"),10)):e.failed=!0,t(e)}),"blob")}catch(s){e.failed=!0,t(e)}}else t(e)})))).then((e=>{const s=[],r=[];for(let t=0;t<e.length;t++){const i=e[t];i.failed||i.local&&!i.data?r.push(i):s.push(i)}this.addObserverCache(r),t(s)}))}))}localUrl(e){return!!this.isBlobUrl(e)||this.uri.sameOrigin(e)}prepareAsset(e,t){const s={originalUrl:e,source:t.source,timestamp:+new Date},r=new CE2.URL(t.baseUrl||CE2.d.baseURI);if(!e||"images"!==s.source&&0===e.indexOf("data:"))return;if(this.IGNORE_DOMAINS)for(let t=0,s=this.IGNORE_DOMAINS;t<s.length;t++){const r=s[t];if(e.indexOf(r)>=0)return}let i=e;this.isBlobUrl(e)&&(i=e.replace("blob:","")),0===e.indexOf("data:")&&(i=`${CE2.w.location.protocol}//${CE2.w.location.host}/data-urls/${e.length}`),0===i.indexOf("//")&&(i=`${r.protocol}:${i}`);let n=new CE2.URL(i);n.host||(n=r.join(n)),n.normalize();const o=n.getFullUrl();return"http"!==n.protocol&&"https"!==n.protocol||this.checkObserverCache(o)||this.workerWaitingQueue.include(o)?void 0:(s.url=n.getFullUrl(),s.cacheKey=o,this.localUrl(s.url)&&(s.local=!0,s.corsSafe=!0),s)}isBlobOrDataUrl(e){return e&&(e.indexOf("blob:")>=0||e.indexOf("data:")>=0)}sendEvent(e){const t=[];for(let s=0;s<e.length;s++){const r=e[s];if(1===r.status&&r.waiting>0)continue;const i=[r.url,r.status,r.timestamp];r.timestampEnd&&(i.push(r.timestampEnd),i.push(r.collector)),t.push(i)}if(!t.length)return;const s=[this.tracker.visitID,t],r=this.tracker.newEvent(Pt.ASSETS,{attributes:s});this.tracker.send(r)}}const Lt={RAGE:"r",AUTH_BUTTON:"a",NOT_CLICKABLE:"d"},Pt={VISIT:1,CLICK:2,SCROLL:3,MOUSE_MOVEMENT:4,PAGE_STATE:5,RESIZE:6,SESSION_SCROLL:7,ERROR:8,PAGE_LOAD:9,INACTIVE:10,TYPING:11,CUSTOM:12,PAGE_VISIBILITY:13,DOM_CONTENT_LOADED:14,FIRST_CONTENTFUL_PAINT:15,DOM_INTERACTIVE:16,IDENTIFY:17,CUSTOM_USER_DATA:18,TAG:19,SESSION_RATIO:20,VALID_SESSION:21,END_SESSION:22,ECOMMERCE:23,FORM:24,CUSTOM_PERFORMANCE:25,GOAL_CONVERSION:26,ASSETS:27,SURVEY_RESPONSE:28,EXCESSIVE_SCROLL:29,LONG_TASK:30,FIRST_INPUT_DELAY:31,CUMULATIVE_LAYOUT_SHIFT:32,LARGEST_PAINT:33,QUICKBACK:34,SESSION_WORTH:35,DAILY_VISIT:36,DAILY_VISIT_COUNTER:37,ADDON_CLICK:38,PAGE_VIEW:39};class Dt extends Z.f{constructor(e,t,s,r,i,n,o){super(...arguments),CE2BH.defineProperty(this,"DIFF_INTERVAL",750),CE2BH.defineProperty(this,"SAMPLE_INTERVAL",100),this.snapshotId=s,r&&(this.session=r,this.sessionId=r.id),this.censoredElements=i,this.hideIframes=n&&n.recordingSettings&&n.recordingSettings.hideIframes,this.formatVersion=e,this.version=t,this.clickCaptors=CE2.state.clickCaptors.concat([...CE2.d.body.getElementsByClassName("-ce-capture")]),this.site=n||{},this.goals=o,this.masked=!1,this.sampleCallbacks=[],this.diffCallbacks=[],this.cookies={lastSession:"v11ls"};var a;(CE2.cookieStorage.get(this.cookies.lastSession)!==(this.session&&this.session.id)&&this.resetSessionTracking(),this.session&&this.setupSDAT(),this.session&&this.site.recordingSettings&&(0,ee.Ad)(this.site.recordingSettings.blockedRules)&&((0,F.f)("Session page masked"),this.masked=!0),this.setupEventHandlers(),this.isDocumentHiddenOnce=document.hidden,this.eventHandlers.visit&&this.eventHandlers.visit.trigger(),this.eventHandlers.goals&&this.eventHandlers.goals.onUrlVisit(),this.session&&this.session.id?(this.eventHandlers.sessionmetadata.trigger(),this.assetsTracker=new Nt(this),this.assetsTracker.setup(),this.session.isNew&&this.session.store(),"function"==typeof CE_SESSION_READY&&CE_SESSION_READY(this.session)):this.session&&!this.session.id&&(0,F.f)("[Tracker] Session ID not initialized"),this.session)&&(null===(a=CE2.virtualTracker)||void 0===a||a.sendStoredEvents());this.processBuffer({scheduleTimeout:!0})}resetSessionTracking(){this.session&&this.session.id&&CE2.cookieStorage.set(this.cookies.lastSession,this.session.id)}update(e,t,s,r){this.eventHandlers.error&&this.eventHandlers.error.flush(),this.processBuffer();let i=!1;this.snapshotId!=e&&(i=!0),this.snapshotId=e,this.formatVersion=t;const n=s&&this.session.id!==s.id;var o;s&&(this.session=s,this.sessionId=s.id,null===(o=CE2.virtualTracker)||void 0===o||o.sendStoredEvents());if(r){this.url=window.location.href,this.setVisitIDs(),this.setupSDAT();for(const e in this.eventHandlers)if(Object.prototype.hasOwnProperty.call(this.eventHandlers,e)){const t=this.eventHandlers[e];t.update&&t.update(n)}this.eventHandlers.visit&&this.eventHandlers.visit.trigger(),this.eventHandlers.goals&&this.eventHandlers.goals.onUrlVisit()}else i&&e&&this.eventHandlers.visit.trigger({snapshotOnly:!0})}onActivity(){this.session&&this.eventHandlers.activity&&this.eventHandlers.activity.trigger()}notifyError(e){this.session&&this.eventHandlers.error&&this.eventHandlers.error.onError(e)}setupSDAT(){delete this.pageFingerprint,delete this.pageFingerprintMd5,this.session&&CE2.w.CE_URL_FINGERPRINT&&(this.pageFingerprint=CE2.w.CE_URL_FINGERPRINT(),this.pageFingerprint&&(this.pageFingerprintMd5=(0,se.F)(this.pageFingerprint)))}setupEventHandlers(){this.setupPageHideHandler(),(this.snapshotId||this.session)&&(this.eventHandlers.visit=new Ot(this),this.eventHandlers.click=new ie(this),this.eventHandlers.excessiveScrolls=new Ie(this),this.eventHandlers.performance=new ut(this)),(this.snapshotId||this.session)&&(this.eventHandlers.scroll=new gt(this),this.eventHandlers.metric=new rt(this)),this.session&&(this.eventHandlers.sessionscroll=new St(this),this.eventHandlers.sessionmetadata=new Et(this),this.eventHandlers.mousemovement=new it(this),this.eventHandlers.resize=new ft(this),this.eventHandlers.activity=new re(this),(0,te.U6)("hide-errors")||(this.eventHandlers.error=new ye(this)),this.eventHandlers.quickback=new pt(this),le&&(this.eventHandlers.ecommerce=new le(this)),this.eventHandlers.form=new Le(this),this.masked||(this.eventHandlers.pageState=new lt(this),this.eventHandlers.typing=new _t(this),this.eventHandlers.visibility=new At(this)),this.runSampleCallbacks(),this.runDiffCallbacks()),this.addEventListener(CE2.opera?"unload":"beforeunload",W(this,"onUnload")),this.goals&&(this.eventHandlers.goals=new Je(this))}addSampleCallback(e){this.sampleCallbacks.push(e)}addDiffCallback(e){this.diffCallbacks.push(e)}runSampleCallbacks(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.runSampleCallbacksBind)for(let e=0,t=this.sampleCallbacks;e<t.length;e++){(0,t[e])()}else this.runSampleCallbacksBind=W(this,"runSampleCallbacks");e&&(this.sampleTimeout=setTimeout(this.runSampleCallbacksBind,this.SAMPLE_INTERVAL))}runDiffCallbacks(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.runDiffCallbacksBind)for(let e=0,t=this.diffCallbacks;e<t.length;e++){(0,t[e])()}else this.runDiffCallbacksBind=W(this,"runDiffCallbacks");e&&(this.diffTimeout=setTimeout(this.runDiffCallbacksBind,this.DIFF_INTERVAL))}cleanup(){this.eventHandlers.error&&this.eventHandlers.error.flush(),this.processBuffer(),this.bufferQueueTimeout&&clearTimeout(this.bufferQueueTimeout),this.session&&(clearTimeout(this.sampleTimeout),clearTimeout(this.diffTimeout),this.assetsTracker&&this.assetsTracker.cleanup());for(const e in this.eventHandlers)if(Object.prototype.hasOwnProperty.call(this.eventHandlers,e)){const t=this.eventHandlers[e];t.cleanup&&t.cleanup()}for(let e=0,t=this.eventsTargets.keys();e<t.length;e++){const s=t[e];for(let e=0,t=this.eventsTargets.get(s).keys();e<t.length;e++){const r=t[e];CE2.removeListener(s,r,this.eventsTargets.get(s).get(r).handler)}}delete this.eventsTargets}pageState(e,t,s,r,i,n){this.eventHandlers.pageState&&this.eventHandlers.pageState.trigger(e,t,s,r,i,n)}pageStateErrorCallback(e){try{(0,F.f)("Page state error",e),"function"==typeof CE_PAGE_STATE_ERROR&&window.CE_PAGE_STATE_ERROR(CE2.data.uid,this.session.id,e)}catch(e){(0,F.f)(`Page State Error callback failure: ${e}`)}}pageStateError(e){this.pageStateErrorCallback(e)}getElementToRecord(e){let t;return(t=X(this.clickCaptors,e))&&(e=t),e.ownerSVGElement&&(e=e.ownerSVGElement),e}customEvent(e,t){const s=[this.visitID,e,t],r=this.newEvent(Pt.CUSTOM,{attributes:s});this.send(r)}getFingerprint(e){return new CE2.fp.fingerprint2(e,{formatVersion:this.formatVersion})}send(e){if(this.resetting)return;const t=this.session&&this.session.isExpired();if(t)return this.stopTracker(`Session expired - ${t}`);this.bufferQueue.push(e)}stopTracker(e){if(this.resetting)return;this.resetting=!0;const t=`Stopping: ${e}`;(0,F.f)(`[Tracker] ${t}`),this.session.reset(t),CE2.resetTracker()}onPageHide(){this.onActivity(),this.session&&this.runDiffCallbacks(!1),this.eventHandlers.error&&this.eventHandlers.error.flush(!0),this.processBuffer()}onUnload(){var e;this.session&&((0,F.f)("[Tracker] Sending end event"),this.send(this.newEvent(Pt.END_SESSION)),this.session.end()),null===(e=this.eventHandlers.quickback)||void 0===e||e.unload(),this.eventHandlers.error&&this.eventHandlers.error.flush(!0),this.processBuffer({sendBeacon:!0})}rageClick(){this.eventHandlers.error&&this.eventHandlers.error.assignAttribute("rageClicked")}getFingerprintAttributes(e){return e||(e={}),[e.type,e.elders,e.youngerSiblings,e.descendants,e.left,e.top,e.width,e.height,e.name]}}CE2BH.defineProperty(Dt,"eventTypes",Pt);var Mt=s(5276);const xt=["input:not([type])",'input[type=""]',"input[type=text]","input[type=hidden]","input[type=password]","input[type=email]","input[type=number]","input[type=tel]","input[type=range]","textarea","[contenteditable=true]",'[contenteditable=""]'];function Ht(e){if(CE2.data.disable_recordings_masking)return;let t=[];if((0,Mt.hasFeature)("v11_disable_default_masking")||(t=xt.slice(0),CE2.w.google&&t.push(".pac-container")),e.recordingSettings&&e.recordingSettings.maskElements){const s=JSON.parse(e.recordingSettings.maskElements);for(let e=0;e<s.length;e++){const r=s[e];t.push(r.selector)}}return t}var Bt=Uint8Array,Ut=Uint16Array,Vt=Uint32Array,Ft=new Bt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$t=new Bt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qt=new Bt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kt=function(e,t){for(var s=new Ut(31),r=0;r<31;++r)s[r]=t+=1<<e[r-1];var i=new Vt(s[30]);for(r=1;r<30;++r)for(var n=s[r];n<s[r+1];++n)i[n]=n-s[r]<<5|r;return[s,i]},Gt=Kt(Ft,2),jt=Gt[0],Wt=Gt[1];jt[28]=258,Wt[258]=28;for(var Yt=Kt($t,0),Xt=(Yt[0],Yt[1]),Qt=new Ut(32768),zt=0;zt<32768;++zt){var Jt=(43690&zt)>>>1|(21845&zt)<<1;Jt=(61680&(Jt=(52428&Jt)>>>2|(13107&Jt)<<2))>>>4|(3855&Jt)<<4,Qt[zt]=((65280&Jt)>>>8|(255&Jt)<<8)>>>1}var Zt=function(e,t,s){for(var r=e.length,i=0,n=new Ut(t);i<r;++i)e[i]&&++n[e[i]-1];var o,a=new Ut(t);for(i=0;i<t;++i)a[i]=a[i-1]+n[i-1]<<1;if(s){o=new Ut(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],h=t-e[i],u=a[e[i]-1]++<<h,d=u|(1<<h)-1;u<=d;++u)o[Qt[u]>>>c]=l}else for(o=new Ut(r),i=0;i<r;++i)e[i]&&(o[i]=Qt[a[e[i]-1]++]>>>15-e[i]);return o},es=new Bt(288);for(zt=0;zt<144;++zt)es[zt]=8;for(zt=144;zt<256;++zt)es[zt]=9;for(zt=256;zt<280;++zt)es[zt]=7;for(zt=280;zt<288;++zt)es[zt]=8;var ts=new Bt(32);for(zt=0;zt<32;++zt)ts[zt]=5;var ss=Zt(es,9,0),rs=Zt(ts,5,0),is=function(e){return(e+7)/8|0},ns=function(e,t,s){(null==t||t<0)&&(t=0),(null==s||s>e.length)&&(s=e.length);var r=new(2==e.BYTES_PER_ELEMENT?Ut:4==e.BYTES_PER_ELEMENT?Vt:Bt)(s-t);return r.set(e.subarray(t,s)),r},os=function(e,t,s){s<<=7&t;var r=t/8|0;e[r]|=s,e[r+1]|=s>>>8},as=function(e,t,s){s<<=7&t;var r=t/8|0;e[r]|=s,e[r+1]|=s>>>8,e[r+2]|=s>>>16},cs=function(e,t){for(var s=[],r=0;r<e.length;++r)e[r]&&s.push({s:r,f:e[r]});var i=s.length,n=s.slice();if(!i)return[gs,0];if(1==i){var o=new Bt(s[0].s+1);return o[s[0].s]=1,[o,1]}s.sort((function(e,t){return e.f-t.f})),s.push({s:-1,f:25001});var a=s[0],c=s[1],l=0,h=1,u=2;for(s[0]={s:-1,f:a.f+c.f,l:a,r:c};h!=i-1;)a=s[s[l].f<s[u].f?l++:u++],c=s[l!=h&&s[l].f<s[u].f?l++:u++],s[h++]={s:-1,f:a.f+c.f,l:a,r:c};var d=n[0].s;for(r=1;r<i;++r)n[r].s>d&&(d=n[r].s);var p=new Ut(d+1),f=ls(s[h-1],p,0);if(f>t){r=0;var g=0,m=f-t,E=1<<m;for(n.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<i;++r){var v=n[r].s;if(!(p[v]>t))break;g+=E-(1<<f-p[v]),p[v]=t}for(g>>>=m;g>0;){var C=n[r].s;p[C]<t?g-=1<<t-p[C]++-1:++r}for(;r>=0&&g;--r){var y=n[r].s;p[y]==t&&(--p[y],++g)}f=t}return[new Bt(p),f]},ls=function(e,t,s){return-1==e.s?Math.max(ls(e.l,t,s+1),ls(e.r,t,s+1)):t[e.s]=s},hs=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new Ut(++t),r=0,i=e[0],n=1,o=function(e){s[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++n;else{if(!i&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(i),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(i);n=1,i=e[a]}return[s.subarray(0,r),t]},us=function(e,t){for(var s=0,r=0;r<t.length;++r)s+=e[r]*t[r];return s},ds=function(e,t,s){var r=s.length,i=is(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var n=0;n<r;++n)e[i+n+4]=s[n];return 8*(i+4+r)},ps=function(e,t,s,r,i,n,o,a,c,l,h){os(t,h++,s),++i[256];for(var u=cs(i,15),d=u[0],p=u[1],f=cs(n,15),g=f[0],m=f[1],E=hs(d),v=E[0],C=E[1],y=hs(g),k=y[0],T=y[1],b=new Ut(19),w=0;w<v.length;++w)b[31&v[w]]++;for(w=0;w<k.length;++w)b[31&k[w]]++;for(var S=cs(b,7),_=S[0],A=S[1],I=19;I>4&&!_[qt[I-1]];--I);var O,R,N,L,P=l+5<<3,D=us(i,es)+us(n,ts)+o,M=us(i,d)+us(n,g)+o+14+3*I+us(b,_)+(2*b[16]+3*b[17]+7*b[18]);if(P<=D&&P<=M)return ds(t,h,e.subarray(c,c+l));if(os(t,h,1+(M<D)),h+=2,M<D){O=Zt(d,p,0),R=d,N=Zt(g,m,0),L=g;var x=Zt(_,A,0);os(t,h,C-257),os(t,h+5,T-1),os(t,h+10,I-4),h+=14;for(w=0;w<I;++w)os(t,h+3*w,_[qt[w]]);h+=3*I;for(var H=[v,k],B=0;B<2;++B){var U=H[B];for(w=0;w<U.length;++w){var V=31&U[w];os(t,h,x[V]),h+=_[V],V>15&&(os(t,h,U[w]>>>5&127),h+=U[w]>>>12)}}}else O=ss,R=es,N=rs,L=ts;for(w=0;w<a;++w)if(r[w]>255){V=r[w]>>>18&31;as(t,h,O[V+257]),h+=R[V+257],V>7&&(os(t,h,r[w]>>>23&31),h+=Ft[V]);var F=31&r[w];as(t,h,N[F]),h+=L[F],F>3&&(as(t,h,r[w]>>>5&8191),h+=$t[F])}else as(t,h,O[r[w]]),h+=R[r[w]];return as(t,h,O[256]),h+R[256]},fs=new Vt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gs=new Bt(0),ms=function(e,t,s,r,i,n){var o=e.length,a=new Bt(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),l=0;if(!t||o<8)for(var h=0;h<=o;h+=65535){var u=h+65535;u>=o&&(c[l>>3]=n),l=ds(c,l+1,e.subarray(h,u))}else{for(var d=fs[t-1],p=d>>>13,f=8191&d,g=(1<<s)-1,m=new Ut(32768),E=new Ut(g+1),v=Math.ceil(s/3),C=2*v,y=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<C)&g},k=new Vt(25e3),T=new Ut(288),b=new Ut(32),w=0,S=0,_=(h=0,0),A=0,I=0;h<o;++h){var O=y(h),R=32767&h,N=E[O];if(m[R]=N,E[O]=R,A<=h){var L=o-h;if((w>7e3||_>24576)&&L>423){l=ps(e,c,0,k,T,b,S,_,I,h-I,l),_=w=S=0,I=h;for(var P=0;P<286;++P)T[P]=0;for(P=0;P<30;++P)b[P]=0}var D=2,M=0,x=f,H=R-N&32767;if(L>2&&O==y(h-H))for(var B=Math.min(p,L)-1,U=Math.min(32767,h),V=Math.min(258,L);H<=U&&--x&&R!=N;){if(e[h+D]==e[h+D-H]){for(var F=0;F<V&&e[h+F]==e[h+F-H];++F);if(F>D){if(D=F,M=H,F>B)break;var $=Math.min(H,F-2),q=0;for(P=0;P<$;++P){var K=h-H+P+32768&32767,G=K-m[K]+32768&32767;G>q&&(q=G,N=K)}}}H+=(R=N)-(N=m[R])+32768&32767}if(M){k[_++]=268435456|Wt[D]<<18|Xt[M];var j=31&Wt[D],W=31&Xt[M];S+=Ft[j]+$t[W],++T[257+j],++b[W],A=h+D,++w}else k[_++]=e[h],++T[e[h]]}}l=ps(e,c,n,k,T,b,S,_,I,h-I,l),!n&&7&l&&(l=ds(c,l+1,gs))}return ns(a,0,r+is(l)+i)},Es=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var s=t,r=9;--r;)s=(1&s&&-306674912)^s>>>1;e[t]=s}return e}(),vs=function(){var e=-1;return{p:function(t){for(var s=e,r=0;r<t.length;++r)s=Es[255&s^t[r]]^s>>>8;e=s},d:function(){return~e}}},Cs=function(e,t,s,r,i){return ms(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,s,r,!i)},ys=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},ks=function(e,t){var s=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&ys(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),s){e[3]=8;for(var r=0;r<=s.length;++r)e[r+10]=s.charCodeAt(r)}},Ts=function(e){return 10+(e.filename&&e.filename.length+1||0)};function bs(e,t){t||(t={});var s=vs(),r=e.length;s.p(e);var i=Cs(e,t,Ts(t),8),n=i.length;return ks(i,t),ys(i,n-8,s.d()),ys(i,n-4,r),i}var ws="undefined"!=typeof TextEncoder&&new TextEncoder,Ss="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ss.decode(gs,{stream:!0}),1}catch(e){}function _s(e,t){if(t){for(var s=new Bt(e.length),r=0;r<e.length;++r)s[r]=e.charCodeAt(r);return s}if(ws)return ws.encode(e);var i=e.length,n=new Bt(e.length+(e.length>>1)),o=0,a=function(e){n[o++]=e};for(r=0;r<i;++r){if(o+5>n.length){var c=new Bt(o+8+(i-r<<1));c.set(n),n=c}var l=e.charCodeAt(r);l<128||t?a(l):l<2048?(a(192|l>>6),a(128|63&l)):l>55295&&l<57344?(a(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++r))>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|63&l)):(a(224|l>>12),a(128|l>>6&63),a(128|63&l))}return ns(n,0,o)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const As=e=>{if("string"==typeof e)return bs(_s(e));if(!ArrayBuffer.isView(e))throw new Error("Data must be UInt* data type or string");return bs(e)},Is={Visit:Ot,SessionMetadata:Et},Os={getBox:f,scroll:a,fingerprint2:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new V(e,t)}}}},function(e){e.O(0,[592],(function(){return t=1839,e(e.s=t);var t}));var t=e.O(),s=CE2="undefined"==typeof CE2?{}:CE2;for(var r in t)s[r]=t[r];t.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})}]);